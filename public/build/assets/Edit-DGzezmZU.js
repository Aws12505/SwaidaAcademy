import{c as Ce,r as Se,b as we,j as t,H as Ee,L as ue}from"./app-9z1H7gnQ.js";import{A as Ie}from"./app-layout-BohtV-VB.js";import{B as T}from"./button--wb-LVtc.js";import{I as je}from"./input-CiG8v1oh.js";import{L as be}from"./label-gnHjntUT.js";import{C as se,c as ie,b as ae,a as re}from"./card-BrcDn22e.js";import{S as Be}from"./separator-QUdTdUqn.js";import{c as ne,a as ve,b as oe,T as ye}from"./tabs-BlGqonZr.js";import{Q as _e}from"./QuillEditorPro-C6606v3a.js";import{X as Ue}from"./sheet-BDKKU0Qh.js";import{A as Le}from"./arrow-left-Dmb7CrYb.js";import{U as ke}from"./upload-BEQTTrWw.js";/* empty css            */import"./index-BBesQ-Ef.js";import"./index-B1umJFFP.js";import"./target-DNRpYxld.js";import"./eye-LzFDhB7t.js";const Te=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Blogs",href:"/admin/blogs"},{title:"Edit",href:"#"}];function Ze(A){const e=Ce.c(100),{blog:r}=A;let R;e[0]===Symbol.for("react.memo_cache_sentinel")?(R=[],e[0]=R):R=e[0];const[a,ce]=Se.useState(R);let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($=[],e[1]=$):$=e[1];let D;e[2]!==r.content||e[3]!==r.title?(D={title:r.title,content:r.content,images:$},e[2]=r.content,e[3]=r.title,e[4]=D):D=e[4];const{data:l,setData:s,put:de,processing:H,errors:n}=we(D);let P;e[5]!==a||e[6]!==s?(P=i=>{const F=Array.from(i.target.files||[]).map((k,Ne)=>({file:k,is_cover:a.length===0&&Ne===0,preview:URL.createObjectURL(k)}));ce([...a,...F]),s("images",[...a,...F])},e[5]=a,e[6]=s,e[7]=P):P=e[7];const me=P;let z;e[8]!==a||e[9]!==s?(z=i=>{const o=a.filter((F,k)=>k!==i);ce(o),s("images",o)},e[8]=a,e[9]=s,e[10]=z):z=e[10];const he=z;let Q;e[11]!==a||e[12]!==s?(Q=i=>{const o=a.map((F,k)=>({...F,is_cover:k===i}));ce(o),s("images",o)},e[11]=a,e[12]=s,e[13]=Q):Q=e[13];const fe=Q;let V;e[14]!==r.id||e[15]!==de?(V=i=>{i.preventDefault(),de(`/admin/blogs/${r.id}`)},e[14]=r.id,e[15]=de,e[16]=V):V=e[16];const xe=V,pe=`Edit: ${r.title.en||"Blog"}`;let c;e[17]!==pe?(c=t.jsx(Ee,{title:pe}),e[17]=pe,e[18]=c):c=e[18];let O;e[19]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Edit Blog Post"}),t.jsx("p",{className:"text-muted-foreground",children:"Update blog post information"})]}),e[19]=O):O=e[19];let W;e[20]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[O,t.jsx(T,{asChild:!0,variant:"outline",children:t.jsxs(ue,{href:"/admin/blogs",children:[t.jsx(Le,{className:"mr-2 h-4 w-4"}),"Back"]})})]}),e[20]=W):W=e[20];let d;e[21]!==r.images?(d=r.images&&r.images.length>0&&t.jsxs(se,{children:[t.jsx(ie,{children:t.jsx(ae,{children:"Current Images"})}),t.jsx(re,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.images.map(Fe)})})]}),e[21]=r.images,e[22]=d):d=e[22];let X;e[23]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ie,{children:t.jsx(ae,{children:"Basic Information"})}),e[23]=X):X=e[23];let q;e[24]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(be,{children:"Title *"}),e[24]=q):q=e[24];let G;e[25]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsxs(ve,{className:"grid w-full grid-cols-2",children:[t.jsx(oe,{value:"en",children:"English"}),t.jsx(oe,{value:"ar",children:"العربية"})]}),e[25]=G):G=e[25];let m;e[26]!==l.title||e[27]!==s?(m=i=>s("title",{...l.title,en:i.target.value}),e[26]=l.title,e[27]=s,e[28]=m):m=e[28];let h;e[29]!==l.title.en||e[30]!==m?(h=t.jsx(ne,{value:"en",children:t.jsx(je,{value:l.title.en,onChange:m,placeholder:"Enter blog title in English"})}),e[29]=l.title.en,e[30]=m,e[31]=h):h=e[31];let f;e[32]!==l.title||e[33]!==s?(f=i=>s("title",{...l.title,ar:i.target.value}),e[32]=l.title,e[33]=s,e[34]=f):f=e[34];let x;e[35]!==l.title.ar||e[36]!==f?(x=t.jsx(ne,{value:"ar",children:t.jsx(je,{value:l.title.ar,onChange:f,placeholder:"أدخل عنوان المقال بالعربية",dir:"rtl"})}),e[35]=l.title.ar,e[36]=f,e[37]=x):x=e[37];let p;e[38]!==h||e[39]!==x?(p=t.jsxs(ye,{defaultValue:"en",children:[G,h,x]}),e[38]=h,e[39]=x,e[40]=p):p=e[40];let g;e[41]!==n?(g=(n["title.en"]||n["title.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:n["title.en"]||n["title.ar"]}),e[41]=n,e[42]=g):g=e[42];let u;e[43]!==p||e[44]!==g?(u=t.jsxs(se,{children:[X,t.jsx(re,{className:"space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[q,p,g]})})]}),e[43]=p,e[44]=g,e[45]=u):u=e[45];let J;e[46]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(ie,{children:t.jsx(ae,{children:"Content *"})}),e[46]=J):J=e[46];let K;e[47]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs(ve,{className:"grid w-full grid-cols-2",children:[t.jsx(oe,{value:"en",children:"English"}),t.jsx(oe,{value:"ar",children:"العربية"})]}),e[47]=K):K=e[47];let j;e[48]!==l.content||e[49]!==s?(j=i=>s("content",{...l.content,en:i}),e[48]=l.content,e[49]=s,e[50]=j):j=e[50];let b;e[51]!==l.content.en||e[52]!==j?(b=t.jsx(ne,{value:"en",children:t.jsx(_e,{value:l.content.en,onChange:j,placeholder:"Write your blog content in English...",height:"500px"})}),e[51]=l.content.en,e[52]=j,e[53]=b):b=e[53];let v;e[54]!==l.content||e[55]!==s?(v=i=>s("content",{...l.content,ar:i}),e[54]=l.content,e[55]=s,e[56]=v):v=e[56];let y;e[57]!==l.content.ar||e[58]!==v?(y=t.jsx(ne,{value:"ar",children:t.jsx(_e,{value:l.content.ar,onChange:v,placeholder:"اكتب محتوى المقال بالعربية...",height:"500px"})}),e[57]=l.content.ar,e[58]=v,e[59]=y):y=e[59];let _;e[60]!==b||e[61]!==y?(_=t.jsxs(ye,{defaultValue:"en",children:[K,b,y]}),e[60]=b,e[61]=y,e[62]=_):_=e[62];let N;e[63]!==n?(N=(n["content.en"]||n["content.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:n["content.en"]||n["content.ar"]}),e[63]=n,e[64]=N):N=e[64];let C;e[65]!==_||e[66]!==N?(C=t.jsxs(se,{children:[J,t.jsxs(re,{className:"space-y-4",children:[_,N]})]}),e[65]=_,e[66]=N,e[67]=C):C=e[67];let M;e[68]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(ie,{children:t.jsx(ae,{children:"Upload New Images"})}),e[68]=M):M=e[68];let Y;e[69]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(be,{children:"Upload Images"}),e[69]=Y):Y=e[69];let Z;e[70]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(T,{type:"button",variant:"outline",onClick:Ae,children:[t.jsx(ke,{className:"mr-2 h-4 w-4"}),"Choose Files"]}),e[70]=Z):Z=e[70];let S;e[71]!==me?(S=t.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:me,className:"hidden"}),e[71]=me,e[72]=S):S=e[72];let w;e[73]!==a.length?(w=t.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.length," file(s) selected"]}),e[73]=a.length,e[74]=w):w=e[74];let E;e[75]!==S||e[76]!==w?(E=t.jsxs("div",{className:"space-y-2",children:[Y,t.jsxs("div",{className:"flex items-center gap-4",children:[Z,S,w]})]}),e[75]=S,e[76]=w,e[77]=E):E=e[77];let I;e[78]!==a||e[79]!==he||e[80]!==fe?(I=a.length>0&&t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map((i,o)=>t.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:i.preview,alt:`Upload ${o+1}`,className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(T,{type:"button",size:"sm",variant:i.is_cover?"default":"secondary",onClick:()=>fe(o),children:i.is_cover?"Cover":"Set Cover"}),t.jsx(T,{type:"button",size:"sm",variant:"destructive",onClick:()=>he(o),children:t.jsx(Ue,{className:"h-4 w-4"})})]})]},o))}),e[78]=a,e[79]=he,e[80]=fe,e[81]=I):I=e[81];let B;e[82]!==E||e[83]!==I?(B=t.jsxs(se,{children:[M,t.jsxs(re,{className:"space-y-4",children:[E,I]})]}),e[82]=E,e[83]=I,e[84]=B):B=e[84];let ee;e[85]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Be,{}),e[85]=ee):ee=e[85];let te;e[86]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(T,{type:"button",variant:"outline",asChild:!0,children:t.jsx(ue,{href:"/admin/blogs",children:"Cancel"})}),e[86]=te):te=e[86];const ge=H?"Updating...":"Update Blog Post";let U;e[87]!==H||e[88]!==ge?(U=t.jsxs("div",{className:"flex justify-end gap-4",children:[te,t.jsx(T,{type:"submit",disabled:H,children:ge})]}),e[87]=H,e[88]=ge,e[89]=U):U=e[89];let L;e[90]!==xe||e[91]!==d||e[92]!==u||e[93]!==C||e[94]!==B||e[95]!==U?(L=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:t.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:t.jsxs("div",{className:"p-6",children:[W,t.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[d,u,C,B,ee,U]})]})})}),e[90]=xe,e[91]=d,e[92]=u,e[93]=C,e[94]=B,e[95]=U,e[96]=L):L=e[96];let le;return e[97]!==L||e[98]!==c?(le=t.jsxs(Ie,{breadcrumbs:Te,children:[c,L]}),e[97]=L,e[98]=c,e[99]=le):le=e[99],le}function Ae(){return document.getElementById("images")?.click()}function Fe(A){return t.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:A.image_url,alt:"Blog",className:"h-full w-full object-cover"}),A.is_cover&&t.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},A.id)}export{Ze as default};
