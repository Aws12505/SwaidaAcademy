import{c as Et,r as Ft,b as It,j as t,H as Ut,L as ut}from"./app-CeNoS8ZD.js";import{A as kt}from"./app-layout-ySNOi0h_.js";import{B as he}from"./button-CGOeFzJq.js";import{I as Xe}from"./input-BIinOsen.js";import{L as d}from"./label-CgN9YI2m.js";import{a as dt,b as mt,c as ft,S as ht,d as pt}from"./select-U2YRFmWJ.js";import{C as qe,c as Ge,b as Je,a as Ke}from"./card-vGRkm2zY.js";import{S as Lt}from"./separator-CYGR4dGp.js";import{c as Me,a as vt,b as We,T as _t}from"./tabs-CJiIhhdW.js";import{Q as gt}from"./QuillEditorPro-BdYzYnJk.js";import{X as Tt}from"./sheet-DDxHOeEe.js";import{A as Dt}from"./arrow-left-CIkcX4Zh.js";import{U as Vt}from"./upload-rVYKp4Sf.js";/* empty css            */import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";import"./target-LhiHsZwj.js";import"./eye-DswfEn5J.js";import"./dialog-Dkdpxvro.js";const At=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Courses",href:"/admin/courses"},{title:"Edit",href:"#"}];function ml(c){const e=Et.c(200),{course:i,platforms:Ye,categories:Ze,levels:et}=c;let pe;e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=[],e[0]=pe):pe=e[0];const[n,tt]=Ft.useState(pe),jt=i.title,yt=i.description,bt=i.external_url,lt=i.duration||"";let m;e[1]!==i.platform_id?(m=i.platform_id.toString(),e[1]=i.platform_id,e[2]=m):m=e[2];let f;e[3]!==i.category_id?(f=i.category_id.toString(),e[3]=i.category_id,e[4]=f):f=e[4];let xe;e[5]!==i.description||e[6]!==i.external_url||e[7]!==i.have_certificate||e[8]!==i.level||e[9]!==i.title||e[10]!==lt||e[11]!==m||e[12]!==f?(xe={title:jt,description:yt,external_url:bt,duration:lt,platform_id:m,category_id:f,have_certificate:i.have_certificate,level:i.level},e[5]=i.description,e[6]=i.external_url,e[7]=i.have_certificate,e[8]=i.level,e[9]=i.title,e[10]=lt,e[11]=m,e[12]=f,e[13]=xe):xe=e[13];const{data:s,setData:l,post:st,processing:ue,errors:a}=It(xe);let ve;e[14]!==n||e[15]!==l?(ve=r=>{const o=Array.from(r.target.files||[]);if(!o.length)return;const Oe=o.map((xt,wt)=>({file:xt,is_cover:n.length===0&&wt===0,preview:URL.createObjectURL(xt)})),fe=[...n,...Oe];tt(fe),l("images",fe.map(Xt))},e[14]=n,e[15]=l,e[16]=ve):ve=e[16];const it=ve;let _e;e[17]!==n||e[18]!==l?(_e=r=>{const o=n.filter((Oe,fe)=>fe!==r);tt(o),o.length?l("images",o.map(Ot)):l("images",void 0)},e[17]=n,e[18]=l,e[19]=_e):_e=e[19];const rt=_e;let ge;e[20]!==n||e[21]!==l?(ge=r=>{const o=n.map((Oe,fe)=>({...Oe,is_cover:fe===r}));tt(o),o.length&&l("images",o.map(Qt))},e[20]=n,e[21]=l,e[22]=ge):ge=e[22];const at=ge;let je;e[23]!==i.id||e[24]!==n.length||e[25]!==st||e[26]!==l?(je=r=>{r.preventDefault(),n.length===0&&l("images",void 0),st(`/admin/courses/${i.id}/update`,{forceFormData:!0,preserveScroll:!0,onError:zt})},e[23]=i.id,e[24]=n.length,e[25]=st,e[26]=l,e[27]=je):je=e[27];const ct=je,nt=`Edit: ${i.title.en||"Course"}`;let h;e[28]!==nt?(h=t.jsx(Ut,{title:nt}),e[28]=nt,e[29]=h):h=e[29];let ye;e[30]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Edit Course"}),t.jsx("p",{className:"text-muted-foreground",children:"Update course information"})]}),e[30]=ye):ye=e[30];let be;e[31]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[ye,t.jsx(he,{asChild:!0,variant:"outline",children:t.jsxs(ut,{href:"/admin/courses",children:[t.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Back"]})})]}),e[31]=be):be=e[31];let p;e[32]!==i.images?(p=i.images&&i.images.length>0&&t.jsxs(qe,{children:[t.jsx(Ge,{children:t.jsx(Je,{children:"Current Images"})}),t.jsx(Ke,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.images.map(Pt)})})]}),e[32]=i.images,e[33]=p):p=e[33];let Ne;e[34]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(Ge,{children:t.jsx(Je,{children:"Basic Information"})}),e[34]=Ne):Ne=e[34];let Se;e[35]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(d,{children:"Title *"}),e[35]=Se):Se=e[35];let Ce;e[36]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsxs(vt,{className:"grid w-full grid-cols-2",children:[t.jsx(We,{value:"en",children:"English"}),t.jsx(We,{value:"ar",children:"العربية"})]}),e[36]=Ce):Ce=e[36];let x;e[37]!==s.title||e[38]!==l?(x=r=>l("title",{...s.title,en:r.target.value}),e[37]=s.title,e[38]=l,e[39]=x):x=e[39];let u;e[40]!==s.title.en||e[41]!==x?(u=t.jsx(Me,{value:"en",children:t.jsx(Xe,{value:s.title.en,onChange:x,placeholder:"Enter course title in English"})}),e[40]=s.title.en,e[41]=x,e[42]=u):u=e[42];let v;e[43]!==s.title||e[44]!==l?(v=r=>l("title",{...s.title,ar:r.target.value}),e[43]=s.title,e[44]=l,e[45]=v):v=e[45];let _;e[46]!==s.title.ar||e[47]!==v?(_=t.jsx(Me,{value:"ar",children:t.jsx(Xe,{value:s.title.ar,onChange:v,placeholder:"أدخل عنوان الدورة بالعربية",dir:"rtl"})}),e[46]=s.title.ar,e[47]=v,e[48]=_):_=e[48];let g;e[49]!==u||e[50]!==_?(g=t.jsxs(_t,{defaultValue:"en",children:[Ce,u,_]}),e[49]=u,e[50]=_,e[51]=g):g=e[51];let j;e[52]!==a?(j=(a["title.en"]||a["title.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:a["title.en"]||a["title.ar"]}),e[52]=a,e[53]=j):j=e[53];let y;e[54]!==g||e[55]!==j?(y=t.jsxs("div",{className:"space-y-2",children:[Se,g,j]}),e[54]=g,e[55]=j,e[56]=y):y=e[56];let we;e[57]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(d,{htmlFor:"external_url",children:"External URL *"}),e[57]=we):we=e[57];let b;e[58]!==l?(b=r=>l("external_url",r.target.value),e[58]=l,e[59]=b):b=e[59];let N;e[60]!==s.external_url||e[61]!==b?(N=t.jsx(Xe,{id:"external_url",type:"url",value:s.external_url,onChange:b,placeholder:"https://example.com/course"}),e[60]=s.external_url,e[61]=b,e[62]=N):N=e[62];let S;e[63]!==a.external_url?(S=a.external_url&&t.jsx("p",{className:"text-sm text-destructive",children:a.external_url}),e[63]=a.external_url,e[64]=S):S=e[64];let C;e[65]!==N||e[66]!==S?(C=t.jsxs("div",{className:"space-y-2",children:[we,N,S]}),e[65]=N,e[66]=S,e[67]=C):C=e[67];let Ee;e[68]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(d,{htmlFor:"platform_id",children:"Platform *"}),e[68]=Ee):Ee=e[68];const Nt=s.platform_id;let w;e[69]!==l?(w=r=>l("platform_id",r),e[69]=l,e[70]=w):w=e[70];let Fe;e[71]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(dt,{children:t.jsx(mt,{placeholder:"Select platform"})}),e[71]=Fe):Fe=e[71];let E;e[72]!==Ye?(E=Ye.map(Ht),e[72]=Ye,e[73]=E):E=e[73];let F;e[74]!==E?(F=t.jsx(ft,{children:E}),e[74]=E,e[75]=F):F=e[75];let I;e[76]!==s.platform_id||e[77]!==w||e[78]!==F?(I=t.jsxs(ht,{value:Nt,onValueChange:w,children:[Fe,F]}),e[76]=s.platform_id,e[77]=w,e[78]=F,e[79]=I):I=e[79];let U;e[80]!==a.platform_id?(U=a.platform_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.platform_id}),e[80]=a.platform_id,e[81]=U):U=e[81];let k;e[82]!==I||e[83]!==U?(k=t.jsxs("div",{className:"space-y-2",children:[Ee,I,U]}),e[82]=I,e[83]=U,e[84]=k):k=e[84];let Ie;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(d,{htmlFor:"category_id",children:"Category *"}),e[85]=Ie):Ie=e[85];const St=s.category_id;let L;e[86]!==l?(L=r=>l("category_id",r),e[86]=l,e[87]=L):L=e[87];let Ue;e[88]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(dt,{children:t.jsx(mt,{placeholder:"Select category"})}),e[88]=Ue):Ue=e[88];let T;e[89]!==Ze?(T=Ze.map($t),e[89]=Ze,e[90]=T):T=e[90];let D;e[91]!==T?(D=t.jsx(ft,{children:T}),e[91]=T,e[92]=D):D=e[92];let V;e[93]!==s.category_id||e[94]!==L||e[95]!==D?(V=t.jsxs(ht,{value:St,onValueChange:L,children:[Ue,D]}),e[93]=s.category_id,e[94]=L,e[95]=D,e[96]=V):V=e[96];let A;e[97]!==a.category_id?(A=a.category_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.category_id}),e[97]=a.category_id,e[98]=A):A=e[98];let B;e[99]!==V||e[100]!==A?(B=t.jsxs("div",{className:"space-y-2",children:[Ie,V,A]}),e[99]=V,e[100]=A,e[101]=B):B=e[101];let R;e[102]!==k||e[103]!==B?(R=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[k,B]}),e[102]=k,e[103]=B,e[104]=R):R=e[104];let ke;e[105]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(d,{htmlFor:"level",children:"Level *"}),e[105]=ke):ke=e[105];const Ct=s.level;let $;e[106]!==l?($=r=>l("level",r),e[106]=l,e[107]=$):$=e[107];let Le;e[108]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(dt,{children:t.jsx(mt,{placeholder:"Select level"})}),e[108]=Le):Le=e[108];let H;e[109]!==et?(H=et.map(Rt),e[109]=et,e[110]=H):H=e[110];let P;e[111]!==H?(P=t.jsx(ft,{children:H}),e[111]=H,e[112]=P):P=e[112];let z;e[113]!==s.level||e[114]!==$||e[115]!==P?(z=t.jsxs(ht,{value:Ct,onValueChange:$,children:[Le,P]}),e[113]=s.level,e[114]=$,e[115]=P,e[116]=z):z=e[116];let Q;e[117]!==a.level?(Q=a.level&&t.jsx("p",{className:"text-sm text-destructive",children:a.level}),e[117]=a.level,e[118]=Q):Q=e[118];let O;e[119]!==z||e[120]!==Q?(O=t.jsxs("div",{className:"space-y-2",children:[ke,z,Q]}),e[119]=z,e[120]=Q,e[121]=O):O=e[121];let Te;e[122]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(d,{htmlFor:"duration",children:"Duration"}),e[122]=Te):Te=e[122];let X;e[123]!==l?(X=r=>l("duration",r.target.value),e[123]=l,e[124]=X):X=e[124];let q;e[125]!==s.duration||e[126]!==X?(q=t.jsxs("div",{className:"space-y-2",children:[Te,t.jsx(Xe,{id:"duration",value:s.duration,onChange:X,placeholder:"e.g., 4 weeks"})]}),e[125]=s.duration,e[126]=X,e[127]=q):q=e[127];let De;e[128]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(d,{htmlFor:"have_certificate",children:"Certificate"}),e[128]=De):De=e[128];let G;e[129]!==l?(G=r=>l("have_certificate",r.target.checked),e[129]=l,e[130]=G):G=e[130];let J;e[131]!==s.have_certificate||e[132]!==G?(J=t.jsx("input",{id:"have_certificate",type:"checkbox",checked:s.have_certificate,onChange:G,className:"h-4 w-4 rounded border-gray-300"}),e[131]=s.have_certificate,e[132]=G,e[133]=J):J=e[133];let Ve;e[134]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(d,{htmlFor:"have_certificate",className:"font-normal cursor-pointer",children:"Provides certificate"}),e[134]=Ve):Ve=e[134];let K;e[135]!==J?(K=t.jsxs("div",{className:"space-y-2",children:[De,t.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[J,Ve]})]}),e[135]=J,e[136]=K):K=e[136];let M;e[137]!==O||e[138]!==q||e[139]!==K?(M=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[O,q,K]}),e[137]=O,e[138]=q,e[139]=K,e[140]=M):M=e[140];let W;e[141]!==y||e[142]!==C||e[143]!==R||e[144]!==M?(W=t.jsxs(qe,{children:[Ne,t.jsxs(Ke,{className:"space-y-4",children:[y,C,R,M]})]}),e[141]=y,e[142]=C,e[143]=R,e[144]=M,e[145]=W):W=e[145];let Ae;e[146]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(Ge,{children:t.jsx(Je,{children:"Description *"})}),e[146]=Ae):Ae=e[146];let Be;e[147]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsxs(vt,{className:"grid w-full grid-cols-2",children:[t.jsx(We,{value:"en",children:"English"}),t.jsx(We,{value:"ar",children:"العربية"})]}),e[147]=Be):Be=e[147];let Y;e[148]!==s.description||e[149]!==l?(Y=r=>l("description",{...s.description,en:r}),e[148]=s.description,e[149]=l,e[150]=Y):Y=e[150];let Z;e[151]!==s.description.en||e[152]!==Y?(Z=t.jsx(Me,{value:"en",children:t.jsx(gt,{value:s.description.en,onChange:Y,placeholder:"Enter course description in English...",height:"400px"})}),e[151]=s.description.en,e[152]=Y,e[153]=Z):Z=e[153];let ee;e[154]!==s.description||e[155]!==l?(ee=r=>l("description",{...s.description,ar:r}),e[154]=s.description,e[155]=l,e[156]=ee):ee=e[156];let te;e[157]!==s.description.ar||e[158]!==ee?(te=t.jsx(Me,{value:"ar",children:t.jsx(gt,{value:s.description.ar,onChange:ee,placeholder:"أدخل وصف الدورة بالعربية...",height:"400px"})}),e[157]=s.description.ar,e[158]=ee,e[159]=te):te=e[159];let le;e[160]!==Z||e[161]!==te?(le=t.jsxs(_t,{defaultValue:"en",children:[Be,Z,te]}),e[160]=Z,e[161]=te,e[162]=le):le=e[162];let se;e[163]!==a?(se=(a["description.en"]||a["description.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:a["description.en"]||a["description.ar"]}),e[163]=a,e[164]=se):se=e[164];let ie;e[165]!==le||e[166]!==se?(ie=t.jsxs(qe,{children:[Ae,t.jsxs(Ke,{className:"space-y-4",children:[le,se]})]}),e[165]=le,e[166]=se,e[167]=ie):ie=e[167];let Re;e[168]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(Ge,{children:t.jsx(Je,{children:"Upload New Images"})}),e[168]=Re):Re=e[168];let $e;e[169]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx(d,{htmlFor:"images",children:"Upload Images"}),e[169]=$e):$e=e[169];let He;e[170]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsxs(he,{type:"button",variant:"outline",onClick:Bt,children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Choose Files"]}),e[170]=He):He=e[170];let re;e[171]!==it?(re=t.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:it,className:"hidden"}),e[171]=it,e[172]=re):re=e[172];let ae;e[173]!==n.length?(ae=t.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.length," file(s) selected"]}),e[173]=n.length,e[174]=ae):ae=e[174];let ce;e[175]!==re||e[176]!==ae?(ce=t.jsxs("div",{className:"space-y-2",children:[$e,t.jsxs("div",{className:"flex items-center gap-4",children:[He,re,ae]})]}),e[175]=re,e[176]=ae,e[177]=ce):ce=e[177];let ne;e[178]!==n||e[179]!==rt||e[180]!==at?(ne=n.length>0&&t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map((r,o)=>t.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:r.preview,alt:`Upload ${o+1}`,className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(he,{type:"button",size:"sm",variant:r.is_cover?"default":"secondary",onClick:()=>at(o),children:r.is_cover?"Cover":"Set Cover"}),t.jsx(he,{type:"button",size:"sm",variant:"destructive",onClick:()=>rt(o),children:t.jsx(Tt,{className:"h-4 w-4"})})]})]},o))}),e[178]=n,e[179]=rt,e[180]=at,e[181]=ne):ne=e[181];let oe;e[182]!==ce||e[183]!==ne?(oe=t.jsxs(qe,{children:[Re,t.jsxs(Ke,{className:"space-y-4",children:[ce,ne]})]}),e[182]=ce,e[183]=ne,e[184]=oe):oe=e[184];let Pe;e[185]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(Lt,{}),e[185]=Pe):Pe=e[185];let ze;e[186]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(he,{type:"button",variant:"outline",asChild:!0,children:t.jsx(ut,{href:"/admin/courses",children:"Cancel"})}),e[186]=ze):ze=e[186];const ot=ue?"Updating...":"Update Course";let de;e[187]!==ue||e[188]!==ot?(de=t.jsxs("div",{className:"flex justify-end gap-4",children:[ze,t.jsx(he,{type:"submit",disabled:ue,children:ot})]}),e[187]=ue,e[188]=ot,e[189]=de):de=e[189];let me;e[190]!==ct||e[191]!==p||e[192]!==W||e[193]!==ie||e[194]!==oe||e[195]!==de?(me=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:t.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:t.jsxs("div",{className:"p-6",children:[be,t.jsxs("form",{onSubmit:ct,className:"space-y-6",children:[p,W,ie,oe,Pe,de]})]})})}),e[190]=ct,e[191]=p,e[192]=W,e[193]=ie,e[194]=oe,e[195]=de,e[196]=me):me=e[196];let Qe;return e[197]!==h||e[198]!==me?(Qe=t.jsxs(kt,{breadcrumbs:At,children:[h,me]}),e[197]=h,e[198]=me,e[199]=Qe):Qe=e[199],Qe}function Bt(){return document.getElementById("images")?.click()}function Rt(c){return t.jsx(pt,{value:c.value,children:c.label},c.value)}function $t(c){return t.jsx(pt,{value:c.id.toString(),children:c.name},c.id)}function Ht(c){return t.jsx(pt,{value:c.id.toString(),children:c.name},c.id)}function Pt(c){return t.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:c.image_url,alt:"Course",className:"h-full w-full object-cover"}),c.is_cover&&t.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},c.id)}function zt(c){return console.error("Update errors:",c)}function Qt(c){const{file:e,is_cover:i}=c;return{file:e,is_cover:i}}function Ot(c){const{file:e,is_cover:i}=c;return{file:e,is_cover:i}}function Xt(c){const{file:e,is_cover:i}=c;return{file:e,is_cover:i}}export{ml as default};
