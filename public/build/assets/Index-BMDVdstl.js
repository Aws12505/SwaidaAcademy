import{c as F,r as O,j as s,L as B,H as G,a as J}from"./app-CeNoS8ZD.js";import{A as K}from"./app-layout-ySNOi0h_.js";import{B as D}from"./button-CGOeFzJq.js";import{I as Q}from"./input-BIinOsen.js";import{B as z}from"./badge-CFn-5wuN.js";import{b as E,e as f,a as U,c as j,T as V,d as W}from"./table-DqlKPnxh.js";import{A as X,a as Y,b as Z,c as ee,d as se,e as te,f as le,g as re,h as ae}from"./alert-dialog-CAiNlVlg.js";import{C as L,a as P,c as $,b as k}from"./card-vGRkm2zY.js";import{E as ie}from"./eye-DswfEn5J.js";import{P as ne}from"./pencil-CcnQJq8f.js";import{T as ce,P as oe}from"./trash-2-CKbKBGyI.js";import{S as de}from"./search--Gzlmkkr.js";/* empty css            */import"./sheet-DDxHOeEe.js";import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";import"./target-LhiHsZwj.js";const me=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Categories",href:"/admin/categories"}],he=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),M=t=>he(t)?t.en??t.ar??"":t??"";function Be(t){const e=F.c(36),{categories:l}=t,[a,R]=O.useState(""),q=fe;let u;if(e[0]!==l||e[1]!==a){const r=a.toLowerCase();u=l.filter(I=>M(I.name).toLowerCase().includes(r)),e[0]=l,e[1]=a,e[2]=u}else u=e[2];const p=u;let g;e[3]!==l?(g=l.reduce(xe,0),e[3]=l,e[4]=g):g=e[4];const H=g;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(G,{title:"Categories Management"}),e[5]=b):b=e[5];let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Total Categories"})}),e[6]=N):N=e[6];let i;e[7]!==l.length?(i=s.jsxs(L,{children:[N,s.jsx(P,{children:s.jsx("div",{className:"text-2xl font-bold",children:l.length})})]}),e[7]=l.length,e[8]=i):i=e[8];let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Active"})}),e[9]=C):C=e[9];let n;e[10]!==l.length?(n=s.jsxs(L,{children:[C,s.jsx(P,{children:s.jsx("div",{className:"text-2xl font-bold",children:l.length})})]}),e[10]=l.length,e[11]=n):n=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Total Items"})}),e[12]=_):_=e[12];let c;e[13]!==H?(c=s.jsxs(L,{children:[_,s.jsx(P,{children:s.jsx("div",{className:"text-2xl font-bold",children:H})})]}),e[13]=H,e[14]=c):c=e[14];let o;e[15]!==i||e[16]!==n||e[17]!==c?(o=s.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[i,n,c]}),e[15]=i,e[16]=n,e[17]=c,e[18]=o):o=e[18];let v;e[19]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Categories Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage course and scholarship categories"})]}),e[19]=v):v=e[19];let y;e[20]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[v,s.jsx(D,{asChild:!0,children:s.jsxs(B,{href:"/admin/categories/create",children:[s.jsx(oe,{className:"mr-2 h-4 w-4"}),"Add Category"]})})]}),e[20]=y):y=e[20];let w;e[21]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(de,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[21]=w):w=e[21];let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=r=>R(r.target.value),e[22]=A):A=e[22];let d;e[23]!==a?(d=s.jsxs("div",{className:"relative max-w-sm",children:[w,s.jsx(Q,{placeholder:"Search categories...",value:a,onChange:A,className:"pl-9"})]}),e[23]=a,e[24]=d):d=e[24];let S;e[25]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(U,{children:s.jsxs(E,{children:[s.jsx(j,{children:"ID"}),s.jsx(j,{children:"Name"}),s.jsx(j,{children:"Courses"}),s.jsx(j,{children:"Scholarships"}),s.jsx(j,{className:"text-right",children:"Actions"})]})}),e[25]=S):S=e[25];let m;e[26]!==p?(m=p.length>0?p.map(r=>{const I=M(r.name);return s.jsxs(E,{children:[s.jsx(f,{className:"font-medium",children:r.id}),s.jsx(f,{className:"font-medium",children:I}),s.jsx(f,{children:s.jsx(z,{variant:"outline",children:r.courses_count??0})}),s.jsx(f,{children:s.jsx(z,{variant:"outline",children:r.scholarships_count??0})}),s.jsx(f,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(B,{href:`/admin/categories/${r.id}`,children:s.jsx(ie,{className:"h-4 w-4"})})}),s.jsx(D,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(B,{href:`/admin/categories/${r.id}/edit`,children:s.jsx(ne,{className:"h-4 w-4"})})}),s.jsxs(X,{children:[s.jsx(Y,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"icon",children:s.jsx(ce,{className:"h-4 w-4 text-destructive"})})}),s.jsxs(Z,{children:[s.jsxs(ee,{children:[s.jsx(se,{children:"Are you sure?"}),s.jsx(te,{children:"This action cannot be undone. This will permanently delete the category."})]}),s.jsxs(le,{children:[s.jsx(re,{children:"Cancel"}),s.jsx(ae,{onClick:()=>q(r.id),children:"Delete"})]})]})]})]})})]},r.id)}):s.jsx(E,{children:s.jsx(f,{colSpan:5,className:"h-24 text-center",children:"No categories found."})}),e[26]=p,e[27]=m):m=e[27];let h;e[28]!==m?(h=s.jsx("div",{className:"rounded-md border",children:s.jsxs(V,{children:[S,s.jsx(W,{children:m})]})}),e[28]=m,e[29]=h):h=e[29];let x;e[30]!==d||e[31]!==h?(x=s.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:s.jsxs("div",{className:"p-6 space-y-6",children:[y,d,h]})}),e[30]=d,e[31]=h,e[32]=x):x=e[32];let T;return e[33]!==o||e[34]!==x?(T=s.jsxs(K,{breadcrumbs:me,children:[b,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[o,x]})]}),e[33]=o,e[34]=x,e[35]=T):T=e[35],T}function xe(t,e){return t+(e.courses_count??0)+(e.scholarships_count??0)}function fe(t){J.delete(`/admin/categories/${t}`,{preserveScroll:!0})}export{Be as default};
