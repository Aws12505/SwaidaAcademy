import{c as Ft,r as Tt,b as At,j as t,H as Dt,L as gt}from"./app-CeNoS8ZD.js";import{A as Vt}from"./app-layout-ySNOi0h_.js";import{B as fe}from"./button-CGOeFzJq.js";import{I as Ge}from"./input-BIinOsen.js";import{L as d}from"./label-CgN9YI2m.js";import{a as pt,b as xt,c as ut,S as _t,d as jt}from"./select-U2YRFmWJ.js";import{C as Je,c as Ke,b as Me,a as We}from"./card-vGRkm2zY.js";import{S as Bt}from"./separator-CYGR4dGp.js";import{c as Ye,a as yt,b as Ze,T as bt}from"./tabs-CJiIhhdW.js";import{Q as St}from"./QuillEditorPro-BdYzYnJk.js";import{X as Rt}from"./sheet-DDxHOeEe.js";import{A as zt}from"./arrow-left-CIkcX4Zh.js";import{U as $t}from"./upload-rVYKp4Sf.js";/* empty css            */import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";import"./target-LhiHsZwj.js";import"./eye-DswfEn5J.js";import"./dialog-Dkdpxvro.js";const Ht=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Scholarships",href:"/admin/scholarships"},{title:"Edit",href:"#"}],Nt=i=>i!==null&&typeof i=="object"&&!Array.isArray(i);function jl(i){const e=Ft.c(204),{scholarship:r,platforms:et,categories:tt,levels:lt}=i;let pe;e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=[],e[0]=pe):pe=e[0];const[n,st]=Tt.useState(pe),Ct=r.title,wt=r.description,Et=r.external_url,it=r.duration||"";let m;e[1]!==r.platform_id?(m=r.platform_id.toString(),e[1]=r.platform_id,e[2]=m):m=e[2];let h;e[3]!==r.category_id?(h=r.category_id.toString(),e[3]=r.category_id,e[4]=h):h=e[4];let xe;e[5]!==r.description||e[6]!==r.external_url||e[7]!==r.have_certificate||e[8]!==r.level||e[9]!==r.title||e[10]!==it||e[11]!==m||e[12]!==h?(xe={title:Ct,description:wt,external_url:Et,duration:it,platform_id:m,category_id:h,have_certificate:r.have_certificate,level:r.level},e[5]=r.description,e[6]=r.external_url,e[7]=r.have_certificate,e[8]=r.level,e[9]=r.title,e[10]=it,e[11]=m,e[12]=h,e[13]=xe):xe=e[13];const{data:s,setData:l,post:rt,processing:ue,errors:c}=At(xe);let _e;e[14]!==et?(_e=et.map(Yt),e[14]=et,e[15]=_e):_e=e[15];const at=_e;let je;e[16]!==tt?(je=tt.map(Wt),e[16]=tt,e[17]=je):je=e[17];const ct=je;let ve;e[18]!==n||e[19]!==l?(ve=a=>{const o=Array.from(a.target.files||[]);if(o.length===0)return;const qe=o.map((vt,Lt)=>({file:vt,is_cover:n.length===0&&Lt===0,preview:URL.createObjectURL(vt)})),he=[...n,...qe];st(he),l("images",he.map(Mt))},e[18]=n,e[19]=l,e[20]=ve):ve=e[20];const nt=ve;let ge;e[21]!==n||e[22]!==l?(ge=a=>{const o=n.filter((qe,he)=>he!==a);st(o),o.length>0?l("images",o.map(Kt)):l("images",void 0)},e[21]=n,e[22]=l,e[23]=ge):ge=e[23];const ot=ge;let ye;e[24]!==n||e[25]!==l?(ye=a=>{const o=n.map((qe,he)=>({...qe,is_cover:he===a}));st(o),o.length>0&&l("images",o.map(Jt))},e[24]=n,e[25]=l,e[26]=ye):ye=e[26];const dt=ye;let be;e[27]!==n.length||e[28]!==rt||e[29]!==r.id||e[30]!==l?(be=a=>{a.preventDefault(),n.length===0&&l("images",void 0),rt(`/admin/scholarships/${r.id}/update`,{forceFormData:!0,preserveScroll:!0,onError:Gt})},e[27]=n.length,e[28]=rt,e[29]=r.id,e[30]=l,e[31]=be):be=e[31];const mt=be,ht=`Edit: ${r.title.en||"Scholarship"}`;let f;e[32]!==ht?(f=t.jsx(Dt,{title:ht}),e[32]=ht,e[33]=f):f=e[33];let Se;e[34]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Edit Scholarship"}),t.jsx("p",{className:"text-muted-foreground",children:"Update scholarship information"})]}),e[34]=Se):Se=e[34];let Ne;e[35]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[Se,t.jsx(fe,{asChild:!0,variant:"outline",children:t.jsxs(gt,{href:"/admin/scholarships",children:[t.jsx(zt,{className:"mr-2 h-4 w-4"}),"Back"]})})]}),e[35]=Ne):Ne=e[35];let p;e[36]!==r.images?(p=r.images&&r.images.length>0&&t.jsxs(Je,{children:[t.jsx(Ke,{children:t.jsx(Me,{children:"Current Images"})}),t.jsx(We,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.images.map(qt)})})]}),e[36]=r.images,e[37]=p):p=e[37];let Ce;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(Ke,{children:t.jsx(Me,{children:"Basic Information"})}),e[38]=Ce):Ce=e[38];let we;e[39]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(d,{children:"Title *"}),e[39]=we):we=e[39];let Ee;e[40]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsxs(yt,{className:"grid w-full grid-cols-2",children:[t.jsx(Ze,{value:"en",children:"English"}),t.jsx(Ze,{value:"ar",children:"العربية"})]}),e[40]=Ee):Ee=e[40];let x;e[41]!==s.title||e[42]!==l?(x=a=>l("title",{...s.title,en:a.target.value}),e[41]=s.title,e[42]=l,e[43]=x):x=e[43];let u;e[44]!==s.title.en||e[45]!==x?(u=t.jsx(Ye,{value:"en",children:t.jsx(Ge,{value:s.title.en,onChange:x,placeholder:"Enter scholarship title in English"})}),e[44]=s.title.en,e[45]=x,e[46]=u):u=e[46];let _;e[47]!==s.title||e[48]!==l?(_=a=>l("title",{...s.title,ar:a.target.value}),e[47]=s.title,e[48]=l,e[49]=_):_=e[49];let j;e[50]!==s.title.ar||e[51]!==_?(j=t.jsx(Ye,{value:"ar",children:t.jsx(Ge,{value:s.title.ar,onChange:_,placeholder:"أدخل عنوان المنحة بالعربية",dir:"rtl"})}),e[50]=s.title.ar,e[51]=_,e[52]=j):j=e[52];let v;e[53]!==u||e[54]!==j?(v=t.jsxs(bt,{defaultValue:"en",children:[Ee,u,j]}),e[53]=u,e[54]=j,e[55]=v):v=e[55];let g;e[56]!==c?(g=(c["title.en"]||c["title.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:c["title.en"]||c["title.ar"]}),e[56]=c,e[57]=g):g=e[57];let y;e[58]!==v||e[59]!==g?(y=t.jsxs("div",{className:"space-y-2",children:[we,v,g]}),e[58]=v,e[59]=g,e[60]=y):y=e[60];let Ie;e[61]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(d,{htmlFor:"external_url",children:"External URL *"}),e[61]=Ie):Ie=e[61];let b;e[62]!==l?(b=a=>l("external_url",a.target.value),e[62]=l,e[63]=b):b=e[63];let S;e[64]!==s.external_url||e[65]!==b?(S=t.jsx(Ge,{id:"external_url",type:"url",value:s.external_url,onChange:b,placeholder:"https://example.com/scholarship"}),e[64]=s.external_url,e[65]=b,e[66]=S):S=e[66];let N;e[67]!==c.external_url?(N=c.external_url&&t.jsx("p",{className:"text-sm text-destructive",children:c.external_url}),e[67]=c.external_url,e[68]=N):N=e[68];let C;e[69]!==S||e[70]!==N?(C=t.jsxs("div",{className:"space-y-2",children:[Ie,S,N]}),e[69]=S,e[70]=N,e[71]=C):C=e[71];let Ue;e[72]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(d,{children:"Institution *"}),e[72]=Ue):Ue=e[72];const It=s.platform_id;let w;e[73]!==l?(w=a=>l("platform_id",a),e[73]=l,e[74]=w):w=e[74];let ke;e[75]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(pt,{children:t.jsx(xt,{placeholder:"Select institution"})}),e[75]=ke):ke=e[75];let E;e[76]!==at?(E=at.map(Xt),e[76]=at,e[77]=E):E=e[77];let I;e[78]!==E?(I=t.jsx(ut,{children:E}),e[78]=E,e[79]=I):I=e[79];let U;e[80]!==s.platform_id||e[81]!==w||e[82]!==I?(U=t.jsxs(_t,{value:It,onValueChange:w,children:[ke,I]}),e[80]=s.platform_id,e[81]=w,e[82]=I,e[83]=U):U=e[83];let k;e[84]!==c.platform_id?(k=c.platform_id&&t.jsx("p",{className:"text-sm text-destructive",children:c.platform_id}),e[84]=c.platform_id,e[85]=k):k=e[85];let L;e[86]!==U||e[87]!==k?(L=t.jsxs("div",{className:"space-y-2",children:[Ue,U,k]}),e[86]=U,e[87]=k,e[88]=L):L=e[88];let Le;e[89]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(d,{children:"Category *"}),e[89]=Le):Le=e[89];const Ut=s.category_id;let F;e[90]!==l?(F=a=>l("category_id",a),e[90]=l,e[91]=F):F=e[91];let Fe;e[92]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(pt,{children:t.jsx(xt,{placeholder:"Select category"})}),e[92]=Fe):Fe=e[92];let T;e[93]!==ct?(T=ct.map(Qt),e[93]=ct,e[94]=T):T=e[94];let A;e[95]!==T?(A=t.jsx(ut,{children:T}),e[95]=T,e[96]=A):A=e[96];let D;e[97]!==s.category_id||e[98]!==F||e[99]!==A?(D=t.jsxs(_t,{value:Ut,onValueChange:F,children:[Fe,A]}),e[97]=s.category_id,e[98]=F,e[99]=A,e[100]=D):D=e[100];let V;e[101]!==c.category_id?(V=c.category_id&&t.jsx("p",{className:"text-sm text-destructive",children:c.category_id}),e[101]=c.category_id,e[102]=V):V=e[102];let B;e[103]!==D||e[104]!==V?(B=t.jsxs("div",{className:"space-y-2",children:[Le,D,V]}),e[103]=D,e[104]=V,e[105]=B):B=e[105];let R;e[106]!==L||e[107]!==B?(R=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[L,B]}),e[106]=L,e[107]=B,e[108]=R):R=e[108];let Te;e[109]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(d,{children:"Level *"}),e[109]=Te):Te=e[109];const kt=s.level;let z;e[110]!==l?(z=a=>l("level",a),e[110]=l,e[111]=z):z=e[111];let Ae;e[112]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(pt,{children:t.jsx(xt,{placeholder:"Select level"})}),e[112]=Ae):Ae=e[112];let $;e[113]!==lt?($=lt.map(Ot),e[113]=lt,e[114]=$):$=e[114];let H;e[115]!==$?(H=t.jsx(ut,{children:$}),e[115]=$,e[116]=H):H=e[116];let P;e[117]!==s.level||e[118]!==z||e[119]!==H?(P=t.jsxs(_t,{value:kt,onValueChange:z,children:[Ae,H]}),e[117]=s.level,e[118]=z,e[119]=H,e[120]=P):P=e[120];let O;e[121]!==c.level?(O=c.level&&t.jsx("p",{className:"text-sm text-destructive",children:c.level}),e[121]=c.level,e[122]=O):O=e[122];let Q;e[123]!==P||e[124]!==O?(Q=t.jsxs("div",{className:"space-y-2",children:[Te,P,O]}),e[123]=P,e[124]=O,e[125]=Q):Q=e[125];let De;e[126]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(d,{htmlFor:"duration",children:"Duration"}),e[126]=De):De=e[126];let X;e[127]!==l?(X=a=>l("duration",a.target.value),e[127]=l,e[128]=X):X=e[128];let q;e[129]!==s.duration||e[130]!==X?(q=t.jsxs("div",{className:"space-y-2",children:[De,t.jsx(Ge,{id:"duration",value:s.duration,onChange:X,placeholder:"e.g., 1 year"})]}),e[129]=s.duration,e[130]=X,e[131]=q):q=e[131];let Ve;e[132]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(d,{htmlFor:"have_certificate",children:"Certificate"}),e[132]=Ve):Ve=e[132];let G;e[133]!==l?(G=a=>l("have_certificate",a.target.checked),e[133]=l,e[134]=G):G=e[134];let J;e[135]!==s.have_certificate||e[136]!==G?(J=t.jsx("input",{id:"have_certificate",type:"checkbox",checked:s.have_certificate,onChange:G,className:"h-4 w-4 rounded border-gray-300"}),e[135]=s.have_certificate,e[136]=G,e[137]=J):J=e[137];let Be;e[138]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(d,{htmlFor:"have_certificate",className:"font-normal cursor-pointer",children:"Provides certificate"}),e[138]=Be):Be=e[138];let K;e[139]!==J?(K=t.jsxs("div",{className:"space-y-2",children:[Ve,t.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[J,Be]})]}),e[139]=J,e[140]=K):K=e[140];let M;e[141]!==Q||e[142]!==q||e[143]!==K?(M=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[Q,q,K]}),e[141]=Q,e[142]=q,e[143]=K,e[144]=M):M=e[144];let W;e[145]!==y||e[146]!==C||e[147]!==R||e[148]!==M?(W=t.jsxs(Je,{children:[Ce,t.jsxs(We,{className:"space-y-4",children:[y,C,R,M]})]}),e[145]=y,e[146]=C,e[147]=R,e[148]=M,e[149]=W):W=e[149];let Re;e[150]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(Ke,{children:t.jsx(Me,{children:"Description *"})}),e[150]=Re):Re=e[150];let ze;e[151]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsxs(yt,{className:"grid w-full grid-cols-2",children:[t.jsx(Ze,{value:"en",children:"English"}),t.jsx(Ze,{value:"ar",children:"العربية"})]}),e[151]=ze):ze=e[151];let Y;e[152]!==s.description||e[153]!==l?(Y=a=>l("description",{...s.description,en:a}),e[152]=s.description,e[153]=l,e[154]=Y):Y=e[154];let Z;e[155]!==s.description.en||e[156]!==Y?(Z=t.jsx(Ye,{value:"en",children:t.jsx(St,{value:s.description.en,onChange:Y,placeholder:"Enter scholarship description in English...",height:"400px"})}),e[155]=s.description.en,e[156]=Y,e[157]=Z):Z=e[157];let ee;e[158]!==s.description||e[159]!==l?(ee=a=>l("description",{...s.description,ar:a}),e[158]=s.description,e[159]=l,e[160]=ee):ee=e[160];let te;e[161]!==s.description.ar||e[162]!==ee?(te=t.jsx(Ye,{value:"ar",children:t.jsx(St,{value:s.description.ar,onChange:ee,placeholder:"أدخل وصف المنحة بالعربية...",height:"400px"})}),e[161]=s.description.ar,e[162]=ee,e[163]=te):te=e[163];let le;e[164]!==Z||e[165]!==te?(le=t.jsxs(bt,{defaultValue:"en",children:[ze,Z,te]}),e[164]=Z,e[165]=te,e[166]=le):le=e[166];let se;e[167]!==c?(se=(c["description.en"]||c["description.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:c["description.en"]||c["description.ar"]}),e[167]=c,e[168]=se):se=e[168];let ie;e[169]!==le||e[170]!==se?(ie=t.jsxs(Je,{children:[Re,t.jsxs(We,{className:"space-y-4",children:[le,se]})]}),e[169]=le,e[170]=se,e[171]=ie):ie=e[171];let $e;e[172]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx(Ke,{children:t.jsx(Me,{children:"Images"})}),e[172]=$e):$e=e[172];let He;e[173]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(d,{children:"Upload Images"}),e[173]=He):He=e[173];let Pe;e[174]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsxs(fe,{type:"button",variant:"outline",onClick:Pt,children:[t.jsx($t,{className:"mr-2 h-4 w-4"}),"Choose Files"]}),e[174]=Pe):Pe=e[174];let re;e[175]!==nt?(re=t.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:nt,className:"hidden"}),e[175]=nt,e[176]=re):re=e[176];let ae;e[177]!==n.length?(ae=t.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.length," file(s) selected"]}),e[177]=n.length,e[178]=ae):ae=e[178];let ce;e[179]!==re||e[180]!==ae?(ce=t.jsxs("div",{className:"space-y-2",children:[He,t.jsxs("div",{className:"flex items-center gap-4",children:[Pe,re,ae]})]}),e[179]=re,e[180]=ae,e[181]=ce):ce=e[181];let ne;e[182]!==n||e[183]!==ot||e[184]!==dt?(ne=n.length>0&&t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map((a,o)=>t.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:a.preview,alt:`Upload ${o+1}`,className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(fe,{type:"button",size:"sm",variant:a.is_cover?"default":"secondary",onClick:()=>dt(o),children:a.is_cover?"Cover":"Set Cover"}),t.jsx(fe,{type:"button",size:"sm",variant:"destructive",onClick:()=>ot(o),children:t.jsx(Rt,{className:"h-4 w-4"})})]})]},o))}),e[182]=n,e[183]=ot,e[184]=dt,e[185]=ne):ne=e[185];let oe;e[186]!==ce||e[187]!==ne?(oe=t.jsxs(Je,{children:[$e,t.jsxs(We,{className:"space-y-4",children:[ce,ne]})]}),e[186]=ce,e[187]=ne,e[188]=oe):oe=e[188];let Oe;e[189]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(Bt,{}),e[189]=Oe):Oe=e[189];let Qe;e[190]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(fe,{type:"button",variant:"outline",asChild:!0,children:t.jsx(gt,{href:"/admin/scholarships",children:"Cancel"})}),e[190]=Qe):Qe=e[190];const ft=ue?"Updating...":"Update Scholarship";let de;e[191]!==ue||e[192]!==ft?(de=t.jsxs("div",{className:"flex justify-end gap-4",children:[Qe,t.jsx(fe,{type:"submit",disabled:ue,children:ft})]}),e[191]=ue,e[192]=ft,e[193]=de):de=e[193];let me;e[194]!==mt||e[195]!==p||e[196]!==W||e[197]!==ie||e[198]!==oe||e[199]!==de?(me=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:t.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:t.jsxs("div",{className:"p-6",children:[Ne,t.jsxs("form",{onSubmit:mt,className:"space-y-6",children:[p,W,ie,oe,Oe,de]})]})})}),e[194]=mt,e[195]=p,e[196]=W,e[197]=ie,e[198]=oe,e[199]=de,e[200]=me):me=e[200];let Xe;return e[201]!==f||e[202]!==me?(Xe=t.jsxs(Vt,{breadcrumbs:Ht,children:[f,me]}),e[201]=f,e[202]=me,e[203]=Xe):Xe=e[203],Xe}function Pt(){return document.getElementById("images")?.click()}function Ot(i){return t.jsx(jt,{value:i.value,children:i.label},i.value)}function Qt(i){return t.jsx(jt,{value:i.id.toString(),children:i._name},i.id)}function Xt(i){return t.jsx(jt,{value:i.id.toString(),children:i._name},i.id)}function qt(i){return t.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:i.image_url,alt:"Scholarship",className:"h-full w-full object-cover"}),i.is_cover&&t.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},i.id)}function Gt(i){return console.error("Update errors:",i)}function Jt(i){const{file:e,is_cover:r}=i;return{file:e,is_cover:r}}function Kt(i){const{file:e,is_cover:r}=i;return{file:e,is_cover:r}}function Mt(i){const{file:e,is_cover:r}=i;return{file:e,is_cover:r}}function Wt(i){return{...i,_name:Nt(i.name)?i.name.en??i.name.ar??"":i.name??""}}function Yt(i){return{...i,_name:Nt(i.name)?i.name.en??i.name.ar??"":i.name??""}}export{jl as default};
