import{c as Et,r as It,b as kt,j as t,H as Ft,L as ut}from"./app-DbnaSsf2.js";import{A as Ut}from"./app-layout-DRdjRw7U.js";import{B as he}from"./button-og_ss5Ae.js";import{I as qe}from"./input-B6JoElNE.js";import{L as d}from"./label-BjpGDVFG.js";import{a as mt,b as ft,c as ht,S as xt,d as pt}from"./select-BTeUZgBD.js";import{C as Ge,c as Je,b as Ke,a as Me}from"./card-BxyhjGA6.js";import{S as Lt}from"./separator-B-D5NyfZ.js";import{c as We,a as jt,b as Ye,T as gt}from"./tabs-f6wgJcTq.js";import{Q as vt}from"./QuillEditorPro-C92OsnOp.js";import{X as Tt}from"./sheet-CRXIpOL9.js";import{A as Vt}from"./arrow-left-DMlmF_Ux.js";import{U as At}from"./upload-D4lYBZKZ.js";/* empty css            */import"./index-CUXBM1t-.js";import"./index-tVPg4Lpz.js";import"./target--8sq_LTJ.js";import"./eye-C6OnOY2b.js";import"./dialog-B1AqgHE8.js";const Bt=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Courses",href:"/admin/courses"},{title:"Edit",href:"#"}];function cl(n){const e=Et.c(199),{course:i,platforms:Ze,categories:et,levels:tt}=n;let pe;e[0]===Symbol.for("react.memo_cache_sentinel")?(pe=[],e[0]=pe):pe=e[0];const[c,lt]=It.useState(pe),_t=i.title,yt=i.description,bt=i.external_url,st=i.duration||"";let m;e[1]!==i.platform_id?(m=i.platform_id.toString(),e[1]=i.platform_id,e[2]=m):m=e[2];let f;e[3]!==i.category_id?(f=i.category_id.toString(),e[3]=i.category_id,e[4]=f):f=e[4];let ue;e[5]===Symbol.for("react.memo_cache_sentinel")?(ue=[],e[5]=ue):ue=e[5];let je;e[6]!==i.description||e[7]!==i.external_url||e[8]!==i.have_certificate||e[9]!==i.level||e[10]!==i.title||e[11]!==st||e[12]!==m||e[13]!==f?(je={title:_t,description:yt,external_url:bt,duration:st,platform_id:m,category_id:f,have_certificate:i.have_certificate,level:i.level,images:ue},e[6]=i.description,e[7]=i.external_url,e[8]=i.have_certificate,e[9]=i.level,e[10]=i.title,e[11]=st,e[12]=m,e[13]=f,e[14]=je):je=e[14];const{data:l,setData:s,put:it,processing:ge,errors:a}=kt(je);let ve;e[15]!==c||e[16]!==s?(ve=r=>{const xe=Array.from(r.target.files||[]).map((fe,wt)=>({file:fe,is_cover:c.length===0&&wt===0,preview:URL.createObjectURL(fe)}));lt([...c,...xe]),s("images",[...c,...xe])},e[15]=c,e[16]=s,e[17]=ve):ve=e[17];const rt=ve;let _e;e[18]!==c||e[19]!==s?(_e=r=>{const o=c.filter((xe,fe)=>fe!==r);lt(o),s("images",o)},e[18]=c,e[19]=s,e[20]=_e):_e=e[20];const at=_e;let ye;e[21]!==c||e[22]!==s?(ye=r=>{const o=c.map((xe,fe)=>({...xe,is_cover:fe===r}));lt(o),s("images",o)},e[21]=c,e[22]=s,e[23]=ye):ye=e[23];const ct=ye;let be;e[24]!==i.id||e[25]!==it?(be=r=>{r.preventDefault(),it(`/admin/courses/${i.id}`)},e[24]=i.id,e[25]=it,e[26]=be):be=e[26];const nt=be,ot=`Edit: ${i.title.en||"Course"}`;let h;e[27]!==ot?(h=t.jsx(Ft,{title:ot}),e[27]=ot,e[28]=h):h=e[28];let Ne;e[29]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Edit Course"}),t.jsx("p",{className:"text-muted-foreground",children:"Update course information"})]}),e[29]=Ne):Ne=e[29];let Se;e[30]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[Ne,t.jsx(he,{asChild:!0,variant:"outline",children:t.jsxs(ut,{href:"/admin/courses",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Back"]})})]}),e[30]=Se):Se=e[30];let x;e[31]!==i.images?(x=i.images&&i.images.length>0&&t.jsxs(Ge,{children:[t.jsx(Je,{children:t.jsx(Ke,{children:"Current Images"})}),t.jsx(Me,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.images.map(Pt)})})]}),e[31]=i.images,e[32]=x):x=e[32];let Ce;e[33]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(Je,{children:t.jsx(Ke,{children:"Basic Information"})}),e[33]=Ce):Ce=e[33];let we;e[34]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(d,{children:"Title *"}),e[34]=we):we=e[34];let Ee;e[35]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsxs(jt,{className:"grid w-full grid-cols-2",children:[t.jsx(Ye,{value:"en",children:"English"}),t.jsx(Ye,{value:"ar",children:"العربية"})]}),e[35]=Ee):Ee=e[35];let p;e[36]!==l.title||e[37]!==s?(p=r=>s("title",{...l.title,en:r.target.value}),e[36]=l.title,e[37]=s,e[38]=p):p=e[38];let u;e[39]!==l.title.en||e[40]!==p?(u=t.jsx(We,{value:"en",children:t.jsx(qe,{value:l.title.en,onChange:p,placeholder:"Enter course title in English"})}),e[39]=l.title.en,e[40]=p,e[41]=u):u=e[41];let j;e[42]!==l.title||e[43]!==s?(j=r=>s("title",{...l.title,ar:r.target.value}),e[42]=l.title,e[43]=s,e[44]=j):j=e[44];let g;e[45]!==l.title.ar||e[46]!==j?(g=t.jsx(We,{value:"ar",children:t.jsx(qe,{value:l.title.ar,onChange:j,placeholder:"أدخل عنوان الدورة بالعربية",dir:"rtl"})}),e[45]=l.title.ar,e[46]=j,e[47]=g):g=e[47];let v;e[48]!==u||e[49]!==g?(v=t.jsxs(gt,{defaultValue:"en",children:[Ee,u,g]}),e[48]=u,e[49]=g,e[50]=v):v=e[50];let _;e[51]!==a?(_=(a["title.en"]||a["title.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:a["title.en"]||a["title.ar"]}),e[51]=a,e[52]=_):_=e[52];let y;e[53]!==v||e[54]!==_?(y=t.jsxs("div",{className:"space-y-2",children:[we,v,_]}),e[53]=v,e[54]=_,e[55]=y):y=e[55];let Ie;e[56]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(d,{htmlFor:"external_url",children:"External URL *"}),e[56]=Ie):Ie=e[56];let b;e[57]!==s?(b=r=>s("external_url",r.target.value),e[57]=s,e[58]=b):b=e[58];let N;e[59]!==l.external_url||e[60]!==b?(N=t.jsx(qe,{id:"external_url",type:"url",value:l.external_url,onChange:b,placeholder:"https://example.com/course"}),e[59]=l.external_url,e[60]=b,e[61]=N):N=e[61];let S;e[62]!==a.external_url?(S=a.external_url&&t.jsx("p",{className:"text-sm text-destructive",children:a.external_url}),e[62]=a.external_url,e[63]=S):S=e[63];let C;e[64]!==N||e[65]!==S?(C=t.jsxs("div",{className:"space-y-2",children:[Ie,N,S]}),e[64]=N,e[65]=S,e[66]=C):C=e[66];let ke;e[67]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(d,{htmlFor:"platform_id",children:"Platform *"}),e[67]=ke):ke=e[67];const Nt=l.platform_id;let w;e[68]!==s?(w=r=>s("platform_id",r),e[68]=s,e[69]=w):w=e[69];let Fe;e[70]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(mt,{children:t.jsx(ft,{placeholder:"Select platform"})}),e[70]=Fe):Fe=e[70];let E;e[71]!==Ze?(E=Ze.map(Ht),e[71]=Ze,e[72]=E):E=e[72];let I;e[73]!==E?(I=t.jsx(ht,{children:E}),e[73]=E,e[74]=I):I=e[74];let k;e[75]!==l.platform_id||e[76]!==w||e[77]!==I?(k=t.jsxs(xt,{value:Nt,onValueChange:w,children:[Fe,I]}),e[75]=l.platform_id,e[76]=w,e[77]=I,e[78]=k):k=e[78];let F;e[79]!==a.platform_id?(F=a.platform_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.platform_id}),e[79]=a.platform_id,e[80]=F):F=e[80];let U;e[81]!==k||e[82]!==F?(U=t.jsxs("div",{className:"space-y-2",children:[ke,k,F]}),e[81]=k,e[82]=F,e[83]=U):U=e[83];let Ue;e[84]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(d,{htmlFor:"category_id",children:"Category *"}),e[84]=Ue):Ue=e[84];const St=l.category_id;let L;e[85]!==s?(L=r=>s("category_id",r),e[85]=s,e[86]=L):L=e[86];let Le;e[87]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(mt,{children:t.jsx(ft,{placeholder:"Select category"})}),e[87]=Le):Le=e[87];let T;e[88]!==et?(T=et.map($t),e[88]=et,e[89]=T):T=e[89];let V;e[90]!==T?(V=t.jsx(ht,{children:T}),e[90]=T,e[91]=V):V=e[91];let A;e[92]!==l.category_id||e[93]!==L||e[94]!==V?(A=t.jsxs(xt,{value:St,onValueChange:L,children:[Le,V]}),e[92]=l.category_id,e[93]=L,e[94]=V,e[95]=A):A=e[95];let B;e[96]!==a.category_id?(B=a.category_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.category_id}),e[96]=a.category_id,e[97]=B):B=e[97];let D;e[98]!==A||e[99]!==B?(D=t.jsxs("div",{className:"space-y-2",children:[Ue,A,B]}),e[98]=A,e[99]=B,e[100]=D):D=e[100];let R;e[101]!==U||e[102]!==D?(R=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[U,D]}),e[101]=U,e[102]=D,e[103]=R):R=e[103];let Te;e[104]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(d,{htmlFor:"level",children:"Level *"}),e[104]=Te):Te=e[104];const Ct=l.level;let $;e[105]!==s?($=r=>s("level",r),e[105]=s,e[106]=$):$=e[106];let Ve;e[107]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(mt,{children:t.jsx(ft,{placeholder:"Select level"})}),e[107]=Ve):Ve=e[107];let H;e[108]!==tt?(H=tt.map(Rt),e[108]=tt,e[109]=H):H=e[109];let P;e[110]!==H?(P=t.jsx(ht,{children:H}),e[110]=H,e[111]=P):P=e[111];let z;e[112]!==l.level||e[113]!==$||e[114]!==P?(z=t.jsxs(xt,{value:Ct,onValueChange:$,children:[Ve,P]}),e[112]=l.level,e[113]=$,e[114]=P,e[115]=z):z=e[115];let Q;e[116]!==a.level?(Q=a.level&&t.jsx("p",{className:"text-sm text-destructive",children:a.level}),e[116]=a.level,e[117]=Q):Q=e[117];let O;e[118]!==z||e[119]!==Q?(O=t.jsxs("div",{className:"space-y-2",children:[Te,z,Q]}),e[118]=z,e[119]=Q,e[120]=O):O=e[120];let Ae;e[121]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(d,{htmlFor:"duration",children:"Duration"}),e[121]=Ae):Ae=e[121];let X;e[122]!==s?(X=r=>s("duration",r.target.value),e[122]=s,e[123]=X):X=e[123];let q;e[124]!==l.duration||e[125]!==X?(q=t.jsxs("div",{className:"space-y-2",children:[Ae,t.jsx(qe,{id:"duration",value:l.duration,onChange:X,placeholder:"e.g., 4 weeks"})]}),e[124]=l.duration,e[125]=X,e[126]=q):q=e[126];let Be;e[127]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(d,{htmlFor:"have_certificate",children:"Certificate"}),e[127]=Be):Be=e[127];let G;e[128]!==s?(G=r=>s("have_certificate",r.target.checked),e[128]=s,e[129]=G):G=e[129];let J;e[130]!==l.have_certificate||e[131]!==G?(J=t.jsx("input",{id:"have_certificate",type:"checkbox",checked:l.have_certificate,onChange:G,className:"h-4 w-4 rounded border-gray-300"}),e[130]=l.have_certificate,e[131]=G,e[132]=J):J=e[132];let De;e[133]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(d,{htmlFor:"have_certificate",className:"font-normal cursor-pointer",children:"Provides certificate"}),e[133]=De):De=e[133];let K;e[134]!==J?(K=t.jsxs("div",{className:"space-y-2",children:[Be,t.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[J,De]})]}),e[134]=J,e[135]=K):K=e[135];let M;e[136]!==O||e[137]!==q||e[138]!==K?(M=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[O,q,K]}),e[136]=O,e[137]=q,e[138]=K,e[139]=M):M=e[139];let W;e[140]!==y||e[141]!==C||e[142]!==R||e[143]!==M?(W=t.jsxs(Ge,{children:[Ce,t.jsxs(Me,{className:"space-y-4",children:[y,C,R,M]})]}),e[140]=y,e[141]=C,e[142]=R,e[143]=M,e[144]=W):W=e[144];let Re;e[145]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(Je,{children:t.jsx(Ke,{children:"Description *"})}),e[145]=Re):Re=e[145];let $e;e[146]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsxs(jt,{className:"grid w-full grid-cols-2",children:[t.jsx(Ye,{value:"en",children:"English"}),t.jsx(Ye,{value:"ar",children:"العربية"})]}),e[146]=$e):$e=e[146];let Y;e[147]!==l.description||e[148]!==s?(Y=r=>s("description",{...l.description,en:r}),e[147]=l.description,e[148]=s,e[149]=Y):Y=e[149];let Z;e[150]!==l.description.en||e[151]!==Y?(Z=t.jsx(We,{value:"en",children:t.jsx(vt,{value:l.description.en,onChange:Y,placeholder:"Enter course description in English...",height:"400px"})}),e[150]=l.description.en,e[151]=Y,e[152]=Z):Z=e[152];let ee;e[153]!==l.description||e[154]!==s?(ee=r=>s("description",{...l.description,ar:r}),e[153]=l.description,e[154]=s,e[155]=ee):ee=e[155];let te;e[156]!==l.description.ar||e[157]!==ee?(te=t.jsx(We,{value:"ar",children:t.jsx(vt,{value:l.description.ar,onChange:ee,placeholder:"أدخل وصف الدورة بالعربية...",height:"400px"})}),e[156]=l.description.ar,e[157]=ee,e[158]=te):te=e[158];let le;e[159]!==Z||e[160]!==te?(le=t.jsxs(gt,{defaultValue:"en",children:[$e,Z,te]}),e[159]=Z,e[160]=te,e[161]=le):le=e[161];let se;e[162]!==a?(se=(a["description.en"]||a["description.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:a["description.en"]||a["description.ar"]}),e[162]=a,e[163]=se):se=e[163];let ie;e[164]!==le||e[165]!==se?(ie=t.jsxs(Ge,{children:[Re,t.jsxs(Me,{className:"space-y-4",children:[le,se]})]}),e[164]=le,e[165]=se,e[166]=ie):ie=e[166];let He;e[167]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(Je,{children:t.jsx(Ke,{children:"Upload New Images"})}),e[167]=He):He=e[167];let Pe;e[168]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(d,{htmlFor:"images",children:"Upload Images"}),e[168]=Pe):Pe=e[168];let ze;e[169]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsxs(he,{type:"button",variant:"outline",onClick:Dt,children:[t.jsx(At,{className:"mr-2 h-4 w-4"}),"Choose Files"]}),e[169]=ze):ze=e[169];let re;e[170]!==rt?(re=t.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:rt,className:"hidden"}),e[170]=rt,e[171]=re):re=e[171];let ae;e[172]!==c.length?(ae=t.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.length," file(s) selected"]}),e[172]=c.length,e[173]=ae):ae=e[173];let ce;e[174]!==re||e[175]!==ae?(ce=t.jsxs("div",{className:"space-y-2",children:[Pe,t.jsxs("div",{className:"flex items-center gap-4",children:[ze,re,ae]})]}),e[174]=re,e[175]=ae,e[176]=ce):ce=e[176];let ne;e[177]!==c||e[178]!==at||e[179]!==ct?(ne=c.length>0&&t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:c.map((r,o)=>t.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:r.preview,alt:`Upload ${o+1}`,className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(he,{type:"button",size:"sm",variant:r.is_cover?"default":"secondary",onClick:()=>ct(o),children:r.is_cover?"Cover":"Set Cover"}),t.jsx(he,{type:"button",size:"sm",variant:"destructive",onClick:()=>at(o),children:t.jsx(Tt,{className:"h-4 w-4"})})]})]},o))}),e[177]=c,e[178]=at,e[179]=ct,e[180]=ne):ne=e[180];let oe;e[181]!==ce||e[182]!==ne?(oe=t.jsxs(Ge,{children:[He,t.jsxs(Me,{className:"space-y-4",children:[ce,ne]})]}),e[181]=ce,e[182]=ne,e[183]=oe):oe=e[183];let Qe;e[184]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(Lt,{}),e[184]=Qe):Qe=e[184];let Oe;e[185]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(he,{type:"button",variant:"outline",asChild:!0,children:t.jsx(ut,{href:"/admin/courses",children:"Cancel"})}),e[185]=Oe):Oe=e[185];const dt=ge?"Updating...":"Update Course";let de;e[186]!==ge||e[187]!==dt?(de=t.jsxs("div",{className:"flex justify-end gap-4",children:[Oe,t.jsx(he,{type:"submit",disabled:ge,children:dt})]}),e[186]=ge,e[187]=dt,e[188]=de):de=e[188];let me;e[189]!==nt||e[190]!==x||e[191]!==W||e[192]!==ie||e[193]!==oe||e[194]!==de?(me=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:t.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:t.jsxs("div",{className:"p-6",children:[Se,t.jsxs("form",{onSubmit:nt,className:"space-y-6",children:[x,W,ie,oe,Qe,de]})]})})}),e[189]=nt,e[190]=x,e[191]=W,e[192]=ie,e[193]=oe,e[194]=de,e[195]=me):me=e[195];let Xe;return e[196]!==h||e[197]!==me?(Xe=t.jsxs(Ut,{breadcrumbs:Bt,children:[h,me]}),e[196]=h,e[197]=me,e[198]=Xe):Xe=e[198],Xe}function Dt(){return document.getElementById("images")?.click()}function Rt(n){return t.jsx(pt,{value:n.value,children:n.label},n.value)}function $t(n){return t.jsx(pt,{value:n.id.toString(),children:n.name},n.id)}function Ht(n){return t.jsx(pt,{value:n.id.toString(),children:n.name},n.id)}function Pt(n){return t.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:n.image_url,alt:"Course",className:"h-full w-full object-cover"}),n.is_cover&&t.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},n.id)}export{cl as default};
