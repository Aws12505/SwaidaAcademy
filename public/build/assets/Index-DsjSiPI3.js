import{c as F,r as O,j as s,L as I,H as G,a as J}from"./app-CeNoS8ZD.js";import{A as K}from"./app-layout-ySNOi0h_.js";import{B as D}from"./button-CGOeFzJq.js";import{I as Q}from"./input-BIinOsen.js";import{B as z}from"./badge-CFn-5wuN.js";import{b as B,e as f,a as U,c as j,T as V,d as W}from"./table-DqlKPnxh.js";import{A as X,a as Y,b as Z,c as ee,d as se,e as le,f as te,g as re,h as ae}from"./alert-dialog-CAiNlVlg.js";import{C as E,a as L,c as $,b as k}from"./card-vGRkm2zY.js";import{E as ie}from"./eye-DswfEn5J.js";import{P as oe}from"./pencil-CcnQJq8f.js";import{T as ne,P as ce}from"./trash-2-CKbKBGyI.js";import{S as de}from"./search--Gzlmkkr.js";/* empty css            */import"./sheet-DDxHOeEe.js";import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";import"./target-LhiHsZwj.js";const me=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Platforms",href:"/admin/platforms"}],he=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),M=l=>he(l)?l.en??l.ar??"":l??"";function Ie(l){const e=F.c(36),{platforms:t}=l,[a,R]=O.useState(""),q=fe;let u;if(e[0]!==t||e[1]!==a){const r=a.toLowerCase();u=t.filter(H=>M(H.name).toLowerCase().includes(r)),e[0]=t,e[1]=a,e[2]=u}else u=e[2];const p=u;let b;e[3]!==t?(b=t.reduce(xe,0),e[3]=t,e[4]=b):b=e[4];const P=b;let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(G,{title:"Platforms Management"}),e[5]=g):g=e[5];let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Total Platforms"})}),e[6]=N):N=e[6];let i;e[7]!==t.length?(i=s.jsxs(E,{children:[N,s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),e[7]=t.length,e[8]=i):i=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Active"})}),e[9]=y):y=e[9];let o;e[10]!==t.length?(o=s.jsxs(E,{children:[y,s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),e[10]=t.length,e[11]=o):o=e[11];let v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:s.jsx(k,{className:"text-sm font-medium",children:"Total Items"})}),e[12]=v):v=e[12];let n;e[13]!==P?(n=s.jsxs(E,{children:[v,s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:P})})]}),e[13]=P,e[14]=n):n=e[14];let c;e[15]!==i||e[16]!==o||e[17]!==n?(c=s.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[i,o,n]}),e[15]=i,e[16]=o,e[17]=n,e[18]=c):c=e[18];let w;e[19]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Platforms Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage course and scholarship platforms"})]}),e[19]=w):w=e[19];let A;e[20]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[w,s.jsx(D,{asChild:!0,children:s.jsxs(I,{href:"/admin/platforms/create",children:[s.jsx(ce,{className:"mr-2 h-4 w-4"}),"Add Platform"]})})]}),e[20]=A):A=e[20];let C;e[21]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(de,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[21]=C):C=e[21];let _;e[22]===Symbol.for("react.memo_cache_sentinel")?(_=r=>R(r.target.value),e[22]=_):_=e[22];let d;e[23]!==a?(d=s.jsxs("div",{className:"relative max-w-sm",children:[C,s.jsx(Q,{placeholder:"Search platforms...",value:a,onChange:_,className:"pl-9"})]}),e[23]=a,e[24]=d):d=e[24];let S;e[25]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(U,{children:s.jsxs(B,{children:[s.jsx(j,{children:"ID"}),s.jsx(j,{children:"Name"}),s.jsx(j,{children:"Courses"}),s.jsx(j,{children:"Scholarships"}),s.jsx(j,{className:"text-right",children:"Actions"})]})}),e[25]=S):S=e[25];let m;e[26]!==p?(m=p.length>0?p.map(r=>{const H=M(r.name);return s.jsxs(B,{children:[s.jsx(f,{className:"font-medium",children:r.id}),s.jsx(f,{className:"font-medium",children:H}),s.jsx(f,{children:s.jsx(z,{variant:"outline",children:r.courses_count??0})}),s.jsx(f,{children:s.jsx(z,{variant:"outline",children:r.scholarships_count??0})}),s.jsx(f,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(I,{href:`/admin/platforms/${r.id}`,children:s.jsx(ie,{className:"h-4 w-4"})})}),s.jsx(D,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(I,{href:`/admin/platforms/${r.id}/edit`,children:s.jsx(oe,{className:"h-4 w-4"})})}),s.jsxs(X,{children:[s.jsx(Y,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"icon",children:s.jsx(ne,{className:"h-4 w-4 text-destructive"})})}),s.jsxs(Z,{children:[s.jsxs(ee,{children:[s.jsx(se,{children:"Are you sure?"}),s.jsx(le,{children:"This action cannot be undone. This will permanently delete the platform."})]}),s.jsxs(te,{children:[s.jsx(re,{children:"Cancel"}),s.jsx(ae,{onClick:()=>q(r.id),children:"Delete"})]})]})]})]})})]},r.id)}):s.jsx(B,{children:s.jsx(f,{colSpan:5,className:"h-24 text-center",children:"No platforms found."})}),e[26]=p,e[27]=m):m=e[27];let h;e[28]!==m?(h=s.jsx("div",{className:"rounded-md border",children:s.jsxs(V,{children:[S,s.jsx(W,{children:m})]})}),e[28]=m,e[29]=h):h=e[29];let x;e[30]!==d||e[31]!==h?(x=s.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:s.jsxs("div",{className:"p-6 space-y-6",children:[A,d,h]})}),e[30]=d,e[31]=h,e[32]=x):x=e[32];let T;return e[33]!==c||e[34]!==x?(T=s.jsxs(K,{breadcrumbs:me,children:[g,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[c,x]})]}),e[33]=c,e[34]=x,e[35]=T):T=e[35],T}function xe(l,e){return l+(e.courses_count??0)+(e.scholarships_count??0)}function fe(l){J.delete(`/admin/platforms/${l}`,{preserveScroll:!0})}export{Ie as default};
