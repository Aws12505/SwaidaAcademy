import{c as Ee,r as ve,b as Ie,j as t,H as ke,L as be}from"./app-DbnaSsf2.js";import{A as Be}from"./app-layout-DRdjRw7U.js";import{B as T}from"./button-og_ss5Ae.js";import{I as ye}from"./input-B6JoElNE.js";import{L as _e}from"./label-BjpGDVFG.js";import{C as ae,c as re,b as ne,a as oe}from"./card-BxyhjGA6.js";import{S as Ue}from"./separator-B-D5NyfZ.js";import{c as ce,a as Ne,b as de,T as Ce}from"./tabs-f6wgJcTq.js";import{Q as Se}from"./QuillEditorPro-C92OsnOp.js";import{X as Le}from"./sheet-CRXIpOL9.js";import{v as Te}from"./v4-EwEgHOG0.js";import{A as Ae}from"./arrow-left-DMlmF_Ux.js";import{U as Fe}from"./upload-D4lYBZKZ.js";/* empty css            */import"./index-CUXBM1t-.js";import"./index-tVPg4Lpz.js";import"./target--8sq_LTJ.js";import"./eye-C6OnOY2b.js";import"./dialog-B1AqgHE8.js";const Re=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Blogs",href:"/admin/blogs"},{title:"Edit",href:"#"}];function it(A){const e=Ee.c(104),{blog:r}=A;let R;e[0]===Symbol.for("react.memo_cache_sentinel")?(R=[],e[0]=R):R=e[0];const[a,me]=ve.useState(R);let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($=[],e[1]=$):$=e[1];let D;e[2]!==r.content||e[3]!==r.title?(D={title:r.title,content:r.content,images:$,draft_token:void 0},e[2]=r.content,e[3]=r.title,e[4]=D):D=e[4];const{data:l,setData:s,put:fe,processing:H,errors:n}=Ie(D);let P;e[5]!==l||e[6]!==s?(P=()=>{l.draft_token||s("draft_token",Te())},e[5]=l,e[6]=s,e[7]=P):P=e[7];let z;e[8]===Symbol.for("react.memo_cache_sentinel")?(z=[],e[8]=z):z=e[8],ve.useEffect(P,z);let Q;e[9]!==a||e[10]!==s?(Q=i=>{const F=Array.from(i.target.files||[]).map((L,we)=>({file:L,is_cover:a.length===0&&we===0,preview:URL.createObjectURL(L)}));me([...a,...F]),s("images",[...a,...F])},e[9]=a,e[10]=s,e[11]=Q):Q=e[11];const he=Q;let V;e[12]!==a||e[13]!==s?(V=i=>{const o=a.filter((F,L)=>L!==i);me(o),s("images",o)},e[12]=a,e[13]=s,e[14]=V):V=e[14];const xe=V;let O;e[15]!==a||e[16]!==s?(O=i=>{const o=a.map((F,L)=>({...F,is_cover:L===i}));me(o),s("images",o)},e[15]=a,e[16]=s,e[17]=O):O=e[17];const pe=O;let W;e[18]!==r.id||e[19]!==fe?(W=i=>{i.preventDefault(),fe(`/admin/blogs/${r.id}`)},e[18]=r.id,e[19]=fe,e[20]=W):W=e[20];const ge=W,ue=`Edit: ${r.title.en||"Blog"}`;let c;e[21]!==ue?(c=t.jsx(ke,{title:ue}),e[21]=ue,e[22]=c):c=e[22];let X;e[23]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Edit Blog Post"}),t.jsx("p",{className:"text-muted-foreground",children:"Update blog post information"})]}),e[23]=X):X=e[23];let q;e[24]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[X,t.jsx(T,{asChild:!0,variant:"outline",children:t.jsxs(be,{href:"/admin/blogs",children:[t.jsx(Ae,{className:"mr-2 h-4 w-4"}),"Back"]})})]}),e[24]=q):q=e[24];let d;e[25]!==r.images?(d=r.images&&r.images.length>0&&t.jsxs(ae,{children:[t.jsx(re,{children:t.jsx(ne,{children:"Current Images"})}),t.jsx(oe,{children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.images.map(De)})})]}),e[25]=r.images,e[26]=d):d=e[26];let G;e[27]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(re,{children:t.jsx(ne,{children:"Basic Information"})}),e[27]=G):G=e[27];let J;e[28]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(_e,{children:"Title *"}),e[28]=J):J=e[28];let K;e[29]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs(Ne,{className:"grid w-full grid-cols-2",children:[t.jsx(de,{value:"en",children:"English"}),t.jsx(de,{value:"ar",children:"العربية"})]}),e[29]=K):K=e[29];let m;e[30]!==l.title||e[31]!==s?(m=i=>s("title",{...l.title,en:i.target.value}),e[30]=l.title,e[31]=s,e[32]=m):m=e[32];let f;e[33]!==l.title.en||e[34]!==m?(f=t.jsx(ce,{value:"en",children:t.jsx(ye,{value:l.title.en,onChange:m,placeholder:"Enter blog title in English"})}),e[33]=l.title.en,e[34]=m,e[35]=f):f=e[35];let h;e[36]!==l.title||e[37]!==s?(h=i=>s("title",{...l.title,ar:i.target.value}),e[36]=l.title,e[37]=s,e[38]=h):h=e[38];let x;e[39]!==l.title.ar||e[40]!==h?(x=t.jsx(ce,{value:"ar",children:t.jsx(ye,{value:l.title.ar,onChange:h,placeholder:"أدخل عنوان المقال بالعربية",dir:"rtl"})}),e[39]=l.title.ar,e[40]=h,e[41]=x):x=e[41];let p;e[42]!==f||e[43]!==x?(p=t.jsxs(Ce,{defaultValue:"en",children:[K,f,x]}),e[42]=f,e[43]=x,e[44]=p):p=e[44];let g;e[45]!==n?(g=(n["title.en"]||n["title.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:n["title.en"]||n["title.ar"]}),e[45]=n,e[46]=g):g=e[46];let u;e[47]!==p||e[48]!==g?(u=t.jsxs(ae,{children:[G,t.jsx(oe,{className:"space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[J,p,g]})})]}),e[47]=p,e[48]=g,e[49]=u):u=e[49];let M;e[50]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(re,{children:t.jsx(ne,{children:"Content *"})}),e[50]=M):M=e[50];let Y;e[51]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(Ne,{className:"grid w-full grid-cols-2",children:[t.jsx(de,{value:"en",children:"English"}),t.jsx(de,{value:"ar",children:"العربية"})]}),e[51]=Y):Y=e[51];let j;e[52]!==l.content||e[53]!==s?(j=i=>s("content",{...l.content,en:i}),e[52]=l.content,e[53]=s,e[54]=j):j=e[54];let v;e[55]!==l.content.en||e[56]!==j?(v=t.jsx(ce,{value:"en",children:t.jsx(Se,{value:l.content.en,onChange:j,placeholder:"Write your blog content in English...",height:"500px"})}),e[55]=l.content.en,e[56]=j,e[57]=v):v=e[57];let b;e[58]!==l.content||e[59]!==s?(b=i=>s("content",{...l.content,ar:i}),e[58]=l.content,e[59]=s,e[60]=b):b=e[60];let y;e[61]!==l.content.ar||e[62]!==b?(y=t.jsx(ce,{value:"ar",children:t.jsx(Se,{value:l.content.ar,onChange:b,placeholder:"اكتب محتوى المقال بالعربية...",height:"500px"})}),e[61]=l.content.ar,e[62]=b,e[63]=y):y=e[63];let _;e[64]!==v||e[65]!==y?(_=t.jsxs(Ce,{defaultValue:"en",children:[Y,v,y]}),e[64]=v,e[65]=y,e[66]=_):_=e[66];let N;e[67]!==n?(N=(n["content.en"]||n["content.ar"])&&t.jsx("p",{className:"text-sm text-destructive",children:n["content.en"]||n["content.ar"]}),e[67]=n,e[68]=N):N=e[68];let C;e[69]!==_||e[70]!==N?(C=t.jsxs(ae,{children:[M,t.jsxs(oe,{className:"space-y-4",children:[_,N]})]}),e[69]=_,e[70]=N,e[71]=C):C=e[71];let Z;e[72]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(re,{children:t.jsx(ne,{children:"Upload New Images"})}),e[72]=Z):Z=e[72];let ee;e[73]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(_e,{children:"Upload Images"}),e[73]=ee):ee=e[73];let te;e[74]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs(T,{type:"button",variant:"outline",onClick:$e,children:[t.jsx(Fe,{className:"mr-2 h-4 w-4"}),"Choose Files"]}),e[74]=te):te=e[74];let S;e[75]!==he?(S=t.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:he,className:"hidden"}),e[75]=he,e[76]=S):S=e[76];let w;e[77]!==a.length?(w=t.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.length," file(s) selected"]}),e[77]=a.length,e[78]=w):w=e[78];let E;e[79]!==S||e[80]!==w?(E=t.jsxs("div",{className:"space-y-2",children:[ee,t.jsxs("div",{className:"flex items-center gap-4",children:[te,S,w]})]}),e[79]=S,e[80]=w,e[81]=E):E=e[81];let I;e[82]!==a||e[83]!==xe||e[84]!==pe?(I=a.length>0&&t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map((i,o)=>t.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:i.preview,alt:`Upload ${o+1}`,className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[t.jsx(T,{type:"button",size:"sm",variant:i.is_cover?"default":"secondary",onClick:()=>pe(o),children:i.is_cover?"Cover":"Set Cover"}),t.jsx(T,{type:"button",size:"sm",variant:"destructive",onClick:()=>xe(o),children:t.jsx(Le,{className:"h-4 w-4"})})]})]},o))}),e[82]=a,e[83]=xe,e[84]=pe,e[85]=I):I=e[85];let k;e[86]!==E||e[87]!==I?(k=t.jsxs(ae,{children:[Z,t.jsxs(oe,{className:"space-y-4",children:[E,I]})]}),e[86]=E,e[87]=I,e[88]=k):k=e[88];let le;e[89]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ue,{}),e[89]=le):le=e[89];let se;e[90]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(T,{type:"button",variant:"outline",asChild:!0,children:t.jsx(be,{href:"/admin/blogs",children:"Cancel"})}),e[90]=se):se=e[90];const je=H?"Updating...":"Update Blog Post";let B;e[91]!==H||e[92]!==je?(B=t.jsxs("div",{className:"flex justify-end gap-4",children:[se,t.jsx(T,{type:"submit",disabled:H,children:je})]}),e[91]=H,e[92]=je,e[93]=B):B=e[93];let U;e[94]!==ge||e[95]!==d||e[96]!==u||e[97]!==C||e[98]!==k||e[99]!==B?(U=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:t.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:t.jsxs("div",{className:"p-6",children:[q,t.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[d,u,C,k,le,B]})]})})}),e[94]=ge,e[95]=d,e[96]=u,e[97]=C,e[98]=k,e[99]=B,e[100]=U):U=e[100];let ie;return e[101]!==c||e[102]!==U?(ie=t.jsxs(Be,{breadcrumbs:Re,children:[c,U]}),e[101]=c,e[102]=U,e[103]=ie):ie=e[103],ie}function $e(){return document.getElementById("images")?.click()}function De(A){return t.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border",children:[t.jsx("img",{src:A.image_url,alt:"Blog",className:"h-full w-full object-cover"}),A.is_cover&&t.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Cover"})]},A.id)}export{it as default};
