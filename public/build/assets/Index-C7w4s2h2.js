import{c as H,r as U,j as s,L as S,a as T,H as B}from"./app-DbnaSsf2.js";import{A as I}from"./app-layout-DRdjRw7U.js";import{B as x}from"./button-og_ss5Ae.js";import{I as L}from"./input-B6JoElNE.js";import{B as w}from"./badge-BopOu6pP.js";import{b as y,e as d,a as M,c as h,T as z,d as P}from"./table-CZUPeBju.js";import{S as R,a as $}from"./shield-C9edjuu6.js";import{E as D}from"./eye-C6OnOY2b.js";import{P as W}from"./pencil-EkokFyXZ.js";import{T as k,P as q}from"./trash-2-BSGa7ZqY.js";import{S as F}from"./search-DK_Ot_f6.js";/* empty css            */import"./sheet-CRXIpOL9.js";import"./index-CUXBM1t-.js";import"./index-tVPg4Lpz.js";import"./target--8sq_LTJ.js";const G=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Users",href:"/admin/users"}];function oe(t){const e=H.c(24),{users:r,filters:C}=t,[l,A]=U.useState(C.search||""),E=K;let f;e[0]!==l?(f=a=>{a.preventDefault(),T.get("/admin/users",{search:l},{preserveScroll:!0,replace:!0})},e[0]=l,e[1]=f):f=e[1];const v=f;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(B,{title:"Users Management"}),e[2]=u):u=e[2];let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Users Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage platform users"})]}),e[3]=j):j=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsxs("div",{className:"flex items-center justify-between",children:[j,s.jsx(x,{asChild:!0,children:s.jsxs(S,{href:"/admin/users/create",children:[s.jsx(q,{className:"mr-2 h-4 w-4"}),"Add User"]})})]}),e[4]=p):p=e[4];let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(F,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[5]=b):b=e[5];let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=a=>A(a.target.value),e[6]=g):g=e[6];let i;e[7]!==l?(i=s.jsx(L,{placeholder:"Search users...",value:l,onChange:g,className:"pl-9"}),e[7]=l,e[8]=i):i=e[8];let n;e[9]!==v||e[10]!==i?(n=s.jsxs("form",{onSubmit:v,className:"relative max-w-sm",children:[b,i]}),e[9]=v,e[10]=i,e[11]=n):n=e[11];let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(M,{children:s.jsxs(y,{children:[s.jsx(h,{children:"Name"}),s.jsx(h,{children:"Email"}),s.jsx(h,{children:"WhatsApp"}),s.jsx(h,{children:"Role"}),s.jsx(h,{className:"text-right",children:"Actions"})]})}),e[12]=N):N=e[12];let c;e[13]!==r.data?(c=r.data.length?r.data.map(a=>s.jsxs(y,{children:[s.jsx(d,{className:"font-medium",children:a.name}),s.jsx(d,{children:a.email}),s.jsx(d,{className:"text-sm text-muted-foreground",children:a.whatsapp_number??"â€”"}),s.jsx(d,{children:a.is_admin?s.jsxs(w,{variant:"outline",className:"gap-1",children:[s.jsx(R,{className:"h-3 w-3"})," Admin"]}):s.jsxs(w,{variant:"outline",className:"gap-1",children:[s.jsx($,{className:"h-3 w-3"})," User"]})}),s.jsx(d,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(x,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(S,{href:`/admin/users/${a.id}`,children:s.jsx(D,{className:"h-4 w-4"})})}),s.jsx(x,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx(S,{href:`/admin/users/${a.id}/edit`,children:s.jsx(W,{className:"h-4 w-4"})})}),s.jsx(x,{variant:"ghost",size:"icon",onClick:()=>E(a.id),children:s.jsx(k,{className:"h-4 w-4 text-destructive"})})]})})]},a.id)):s.jsx(y,{children:s.jsx(d,{colSpan:5,className:"h-24 text-center",children:"No users found."})}),e[13]=r.data,e[14]=c):c=e[14];let m;e[15]!==c?(m=s.jsx("div",{className:"rounded-md border",children:s.jsxs(z,{children:[N,s.jsx(P,{children:c})]})}),e[15]=c,e[16]=m):m=e[16];let o;e[17]!==r.last_page||e[18]!==r.links?(o=r.last_page>1&&s.jsx("div",{className:"flex justify-center gap-2",children:r.links.map(J)}),e[17]=r.last_page,e[18]=r.links,e[19]=o):o=e[19];let _;return e[20]!==m||e[21]!==o||e[22]!==n?(_=s.jsxs(I,{breadcrumbs:G,children:[u,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[p,n,m,o]})]}),e[20]=m,e[21]=o,e[22]=n,e[23]=_):_=e[23],_}function J(t,e){return s.jsx(x,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,asChild:!!t.url,children:t.url?s.jsx("a",{href:t.url,dangerouslySetInnerHTML:{__html:t.label}}):s.jsx("span",{dangerouslySetInnerHTML:{__html:t.label}})},e)}function K(t){T.delete(`/admin/users/${t}`,{preserveScroll:!0})}export{oe as default};
