import{u as O,r as A,j as e,a as E,c as q,H as D}from"./app-CeNoS8ZD.js";import{S as p,A as W}from"./ScrollReveal-DqedPt7l.js";import{S as X}from"./ScholarshipCard-BFLUNwyU.js";import{I as Y}from"./input-BIinOsen.js";import{B as V}from"./button-CGOeFzJq.js";import{B as z}from"./badge-CFn-5wuN.js";import{S as I,a as L,b as $,c as F,d as m}from"./select-U2YRFmWJ.js";import{q as G,S as J,p as K,z as Q,B as U,X as Z,A as M}from"./sheet-DDxHOeEe.js";import{S as ee}from"./separator-CYGR4dGp.js";import{C as se}from"./card-vGRkm2zY.js";import{u as P}from"./useRTL-BGKnHAaH.js";import{S as ae}from"./sliders-horizontal-DEgQnejm.js";import{S as le}from"./search--Gzlmkkr.js";/* empty css            */import"./dialog-Dkdpxvro.js";import"./sun-DE8O8pPq.js";import"./user-H1jGYmOY.js";import"./clock-ByhmtsiM.js";import"./external-link-jvBzOU9m.js";import"./lock-C4NiPJfE.js";import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";const x="__all__",H="__any__",R=r=>Array.isArray(r)?r[0]:r||void 0,te=r=>{const s={};for(const[i,o]of Object.entries(r))o===void 0||o===""||o===null||(s[i]=Array.isArray(o)?o[0]:o);return s};function re({platforms:r,categories:s,levels:i,currentFilters:o}){const{locale:l}=O().props,{isRTL:h}=P(),[c,n]=A.useState(o),[w,u]=A.useState(R(o.search)??""),d=A.useMemo(()=>Object.entries(c).filter(([a,t])=>!(a==="page"||t===void 0||t===""||t===null)).length,[c]),C=a=>{const t=te(a);E.get(`/${l}/scholarships`,t,{preserveState:!0,preserveScroll:!0})},f=()=>{n({}),u(""),E.get(`/${l}/scholarships`,{},{preserveState:!0,preserveScroll:!0})};A.useEffect(()=>{const a=setTimeout(()=>{n(t=>({...t,search:w||void 0,page:void 0}))},400);return()=>clearTimeout(a)},[w]),A.useEffect(()=>{C(c)},[c]);const j=()=>e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"البحث":"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${h?"right-3":"left-3"}`}),e.jsx(Y,{type:"search",placeholder:l==="ar"?"ابحث عن منح...":"Search scholarships...",value:w,onChange:a=>u(a.target.value),className:h?"pr-9":"pl-9"})]})]}),e.jsx(ee,{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"المؤسسة":"Institution"}),e.jsxs(I,{value:c.platform_id!==void 0?String(c.platform_id):x,onValueChange:a=>n(t=>({...t,platform_id:a===x?void 0:parseInt(a),page:void 0})),children:[e.jsx(L,{className:"w-full",children:e.jsx($,{placeholder:l==="ar"?"جميع المؤسسات":"All Institutions"})}),e.jsxs(F,{children:[e.jsx(m,{value:x,children:l==="ar"?"جميع المؤسسات":"All Institutions"}),r.map(a=>e.jsx(m,{value:String(a.id),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الفئة":"Category"}),e.jsxs(I,{value:c.category_id!==void 0?String(c.category_id):x,onValueChange:a=>n(t=>({...t,category_id:a===x?void 0:parseInt(a),page:void 0})),children:[e.jsx(L,{className:"w-full",children:e.jsx($,{placeholder:l==="ar"?"جميع الفئات":"All Categories"})}),e.jsxs(F,{children:[e.jsx(m,{value:x,children:l==="ar"?"جميع الفئات":"All Categories"}),s.map(a=>e.jsx(m,{value:String(a.id),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"المستوى":"Level"}),e.jsxs(I,{value:R(c.level)??x,onValueChange:a=>n(t=>({...t,level:a===x?void 0:a,page:void 0})),children:[e.jsx(L,{className:"w-full",children:e.jsx($,{placeholder:l==="ar"?"جميع المستويات":"All Levels"})}),e.jsxs(F,{children:[e.jsx(m,{value:x,children:l==="ar"?"جميع المستويات":"All Levels"}),i.map(a=>e.jsx(m,{value:a.value,children:a.label},a.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الشهادة":"Certificate"}),e.jsxs(I,{value:c.have_certificate===void 0?H:c.have_certificate?"true":"false",onValueChange:a=>n(t=>({...t,have_certificate:a===H?void 0:a==="true",page:void 0})),children:[e.jsx(L,{className:"w-full",children:e.jsx($,{placeholder:l==="ar"?"الكل":"All"})}),e.jsxs(F,{children:[e.jsx(m,{value:H,children:l==="ar"?"الكل":"All"}),e.jsx(m,{value:"true",children:l==="ar"?"مع شهادة":"With Certificate"}),e.jsx(m,{value:"false",children:l==="ar"?"بدون شهادة":"No Certificate"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الترتيب":"Sort By"}),e.jsxs(I,{value:R(c.sort_by),onValueChange:a=>n(t=>({...t,sort_by:a||void 0,page:void 0})),children:[e.jsx(L,{className:"w-full",children:e.jsx($,{placeholder:l==="ar"?"الأحدث":"Latest"})}),e.jsxs(F,{children:[e.jsx(m,{value:"created_at",children:l==="ar"?"الأحدث":"Latest"}),e.jsx(m,{value:"title",children:l==="ar"?"العنوان":"Title"})]})]})]}),e.jsxs(V,{onClick:f,variant:"outline",className:"w-full touch-target",children:[e.jsx(Z,{className:`h-4 w-4 ${h?"ml-2":"mr-2"}`}),l==="ar"?"مسح الفلاتر":"Clear Filters"]})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs(se,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-7 sm:mb-8 flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:l==="ar"?"الفلاتر":"Filters"}),d>0&&e.jsx(z,{variant:"secondary",children:d})]}),e.jsx(j,{})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsxs(G,{children:[e.jsx(J,{asChild:!0,children:e.jsxs(V,{variant:"outline",className:"w-full touch-target",children:[e.jsx(ae,{className:`h-4 w-4 ${h?"ml-2":"mr-2"}`}),l==="ar"?"الفلاتر":"Filters",d>0&&e.jsx(z,{variant:"secondary",className:h?"mr-2":"ml-2",children:d})]})}),e.jsxs(K,{side:h?"right":"left",className:"p-0 w-[86%] sm:w-[420px] pt-[env(safe-area-inset-top)]",children:[e.jsx(Q,{className:"px-4 py-3 border-b",children:e.jsx(U,{children:l==="ar"?"الفلاتر":"Filters"})}),e.jsx("div",{className:"px-4 py-6 sm:py-8",children:e.jsx(j,{})}),e.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})})]})}function $e(r){const s=q.c(35),{scholarships:i,platforms:o,categories:l,levels:h,filters:c}=r,{locale:n}=O().props,{isRTL:w}=P(),u=n==="ar"?"المنح الدراسية":"Scholarships";let d;s[0]!==u?(d=e.jsx(D,{title:u}),s[0]=u,s[1]=d):d=s[1];const C=`flex items-center ${w?"flex-row-reverse":""} gap-3 sm:gap-4 mb-2`;let f;s[2]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-secondary/10",children:e.jsx(M,{className:"h-5 w-5 sm:h-6 sm:w-6 text-secondary"})}),s[2]=f):f=s[2];const j=n==="ar"?"المنح الدراسية":"Scholarships";let a;s[3]!==j?(a=e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:j}),s[3]=j,s[4]=a):a=s[4];let t;s[5]!==C||s[6]!==a?(t=e.jsxs("div",{className:C,children:[f,a]}),s[5]=C,s[6]=a,s[7]=t):t=s[7];const k=n==="ar"?"اكتشف فرص المنح الدراسية من أفضل المؤسسات التعليمية حول العالم":"Discover scholarship opportunities from the best educational institutions worldwide";let v;s[8]!==k?(v=e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-2xl",children:k}),s[8]=k,s[9]=v):v=s[9];let g;s[10]!==t||s[11]!==v?(g=e.jsx(p,{as:"section",y:10,className:"bg-gradient-to-br from-secondary/5 to-primary/5",children:e.jsxs("div",{className:"container-responsive max-w-7xl mx-auto py-8 sm:py-12",children:[t,v]})}),s[10]=t,s[11]=v,s[12]=g):g=s[12];let y;s[13]!==l||s[14]!==c||s[15]!==h||s[16]!==o?(y=e.jsx(p,{as:"aside",y:8,delay:40,className:"lg:sticky lg:top-24 lg:self-start",children:e.jsx(re,{platforms:o,categories:l,levels:h,currentFilters:c})}),s[13]=l,s[14]=c,s[15]=h,s[16]=o,s[17]=y):y=s[17];const B=n==="ar"?`عرض ${i.from}-${i.to} من ${i.total} نتيجة`:`Showing ${i.from}-${i.to} of ${i.total} results`;let b;s[18]!==B?(b=e.jsx(p,{as:"div",y:6,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:B})})}),s[18]=B,s[19]=b):b=s[19];let N;s[20]!==n||s[21]!==i.data||s[22]!==i.last_page||s[23]!==i.links?(N=i.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:i.data.map(ce)}),i.last_page>1&&e.jsx(p,{as:"div",y:6,delay:60,children:e.jsx("div",{className:"flex justify-center gap-2 pt-6 sm:pt-8 flex-wrap",children:i.links.map(ie)})})]}):e.jsx(p,{y:10,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 text-center",children:[e.jsx(M,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:n==="ar"?"لم يتم العثور على منح":"No scholarships found"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:n==="ar"?"جرب تغيير معايير البحث أو الفلاتر":"Try changing your search criteria or filters"})]})}),s[20]=n,s[21]=i.data,s[22]=i.last_page,s[23]=i.links,s[24]=N):N=s[24];let S;s[25]!==b||s[26]!==N?(S=e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[b,N]}),s[25]=b,s[26]=N,s[27]=S):S=s[27];let _;s[28]!==y||s[29]!==S?(_=e.jsx(p,{as:"section",y:10,children:e.jsx("div",{className:"container-responsive max-w-7xl mx-auto py-8 sm:py-12",children:e.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-[300px_minmax(0,1fr)] xl:grid-cols-[320px_minmax(0,1fr)]",children:[y,S]})})}),s[28]=y,s[29]=S,s[30]=_):_=s[30];let T;return s[31]!==g||s[32]!==_||s[33]!==d?(T=e.jsxs(W,{children:[d,g,_]}),s[31]=g,s[32]=_,s[33]=d,s[34]=T):T=s[34],T}function ie(r,s){return e.jsx(V,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,asChild:!!r.url,className:"touch-target",children:r.url?e.jsx("a",{href:r.url,dangerouslySetInnerHTML:{__html:r.label}}):e.jsx("span",{dangerouslySetInnerHTML:{__html:r.label}})},s)}function ce(r,s){return e.jsx(p,{y:12,delay:s*50,children:e.jsx(X,{scholarship:r})},r.id)}export{$e as default};
