import{u as M,r as A,j as e,a as V,c as O,H as q}from"./app-CeNoS8ZD.js";import{S as u,A as W}from"./ScrollReveal-DqedPt7l.js";import{C as X}from"./CourseCard-DnHSEJ6M.js";import{I as Y}from"./input-BIinOsen.js";import{B as R}from"./button-CGOeFzJq.js";import{B as P}from"./badge-CFn-5wuN.js";import{S as L,a as $,b as F,c as T,d}from"./select-U2YRFmWJ.js";import{q as D,S as J,p as K,z as Q,B as U,X as Z,G as z}from"./sheet-DDxHOeEe.js";import{S as ee}from"./separator-CYGR4dGp.js";import{C as se}from"./card-vGRkm2zY.js";import{u as G}from"./useRTL-BGKnHAaH.js";import{S as ae}from"./sliders-horizontal-DEgQnejm.js";import{S as le}from"./search--Gzlmkkr.js";/* empty css            */import"./dialog-Dkdpxvro.js";import"./sun-DE8O8pPq.js";import"./user-H1jGYmOY.js";import"./clock-ByhmtsiM.js";import"./external-link-jvBzOU9m.js";import"./lock-C4NiPJfE.js";import"./index-b3VL0-ce.js";import"./index-1FoEdlk_.js";const h="__all__",B="__any__",H=r=>Array.isArray(r)?r[0]:r||void 0,te=r=>{const s={};for(const[i,n]of Object.entries(r))n===void 0||n===""||n===null||(s[i]=Array.isArray(n)?n[0]:n);return s};function re({platforms:r,categories:s,levels:i,currentFilters:n}){const{locale:l}=M().props,{isRTL:x}=G(),[c,o]=A.useState(n),[C,p]=A.useState(H(n.search)??""),m=A.useMemo(()=>Object.entries(c).filter(([a,t])=>!(a==="page"||t===void 0||t===""||t===null)).length,[c]),w=a=>{const t=te(a);V.get(`/${l}/courses`,t,{preserveState:!0,preserveScroll:!0})},f=()=>{o({}),p(""),V.get(`/${l}/courses`,{},{preserveState:!0,preserveScroll:!0})};A.useEffect(()=>{const a=setTimeout(()=>{o(t=>({...t,search:C||void 0,page:void 0}))},400);return()=>clearTimeout(a)},[C]),A.useEffect(()=>{w(c)},[c]);const j=()=>e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"البحث":"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${x?"right-3":"left-3"}`}),e.jsx(Y,{type:"search",placeholder:l==="ar"?"ابحث عن دورات...":"Search courses...",value:C,onChange:a=>p(a.target.value),className:x?"pr-9":"pl-9"})]})]}),e.jsx(ee,{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"المنصة":"Platform"}),e.jsxs(L,{value:c.platform_id!==void 0?String(c.platform_id):h,onValueChange:a=>o(t=>({...t,platform_id:a===h?void 0:parseInt(a),page:void 0})),children:[e.jsx($,{className:"w-full",children:e.jsx(F,{placeholder:l==="ar"?"جميع المنصات":"All Platforms"})}),e.jsxs(T,{children:[e.jsx(d,{value:h,children:l==="ar"?"جميع المنصات":"All Platforms"}),r.map(a=>e.jsx(d,{value:String(a.id),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الفئة":"Category"}),e.jsxs(L,{value:c.category_id!==void 0?String(c.category_id):h,onValueChange:a=>o(t=>({...t,category_id:a===h?void 0:parseInt(a),page:void 0})),children:[e.jsx($,{className:"w-full",children:e.jsx(F,{placeholder:l==="ar"?"جميع الفئات":"All Categories"})}),e.jsxs(T,{children:[e.jsx(d,{value:h,children:l==="ar"?"جميع الفئات":"All Categories"}),s.map(a=>e.jsx(d,{value:String(a.id),children:a.name},a.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"المستوى":"Level"}),e.jsxs(L,{value:H(c.level)??h,onValueChange:a=>o(t=>({...t,level:a===h?void 0:a,page:void 0})),children:[e.jsx($,{className:"w-full",children:e.jsx(F,{placeholder:l==="ar"?"جميع المستويات":"All Levels"})}),e.jsxs(T,{children:[e.jsx(d,{value:h,children:l==="ar"?"جميع المستويات":"All Levels"}),i.map(a=>e.jsx(d,{value:a.value,children:a.label},a.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الشهادة":"Certificate"}),e.jsxs(L,{value:c.have_certificate===void 0?B:c.have_certificate?"true":"false",onValueChange:a=>o(t=>({...t,have_certificate:a===B?void 0:a==="true",page:void 0})),children:[e.jsx($,{className:"w-full",children:e.jsx(F,{placeholder:l==="ar"?"الكل":"All"})}),e.jsxs(T,{children:[e.jsx(d,{value:B,children:l==="ar"?"الكل":"All"}),e.jsx(d,{value:"true",children:l==="ar"?"مع شهادة":"With Certificate"}),e.jsx(d,{value:"false",children:l==="ar"?"بدون شهادة":"No Certificate"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 sm:mb-4",children:l==="ar"?"الترتيب":"Sort By"}),e.jsxs(L,{value:H(c.sort_by),onValueChange:a=>o(t=>({...t,sort_by:a||void 0,page:void 0})),children:[e.jsx($,{className:"w-full",children:e.jsx(F,{placeholder:l==="ar"?"الأحدث":"Latest"})}),e.jsxs(T,{children:[e.jsx(d,{value:"created_at",children:l==="ar"?"الأحدث":"Latest"}),e.jsx(d,{value:"title",children:l==="ar"?"العنوان":"Title"})]})]})]}),e.jsxs(R,{onClick:f,variant:"outline",className:"w-full touch-target",children:[e.jsx(Z,{className:`h-4 w-4 ${x?"ml-2":"mr-2"}`}),l==="ar"?"مسح الفلاتر":"Clear Filters"]})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs(se,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-7 sm:mb-8 flex items-center justify-between",children:[e.jsx("h2",{className:"font-semibold text-base sm:text-lg",children:l==="ar"?"الفلاتر":"Filters"}),m>0&&e.jsx(P,{variant:"secondary",children:m})]}),e.jsx(j,{})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsxs(D,{children:[e.jsx(J,{asChild:!0,children:e.jsxs(R,{variant:"outline",className:"w-full touch-target",children:[e.jsx(ae,{className:`h-4 w-4 ${x?"ml-2":"mr-2"}`}),l==="ar"?"الفلاتر":"Filters",m>0&&e.jsx(P,{variant:"secondary",className:x?"mr-2":"ml-2",children:m})]})}),e.jsxs(K,{side:x?"right":"left",className:"p-0 w-[86%] sm:w-[420px] pt-[env(safe-area-inset-top)]",children:[e.jsx(Q,{className:"px-4 py-3 border-b",children:e.jsx(U,{children:l==="ar"?"الفلاتر":"Filters"})}),e.jsx("div",{className:"px-4 py-6 sm:py-8",children:e.jsx(j,{})}),e.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})})]})}function Fe(r){const s=O.c(35),{courses:i,platforms:n,categories:l,levels:x,filters:c}=r,{locale:o}=M().props,{isRTL:C}=G(),p=o==="ar"?"الدورات":"Courses";let m;s[0]!==p?(m=e.jsx(q,{title:p}),s[0]=p,s[1]=m):m=s[1];const w=`flex items-center ${C?"flex-row-reverse":""} gap-3 sm:gap-4 mb-2`;let f;s[2]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx(z,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),s[2]=f):f=s[2];const j=o==="ar"?"الدورات التعليمية":"Educational Courses";let a;s[3]!==j?(a=e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:j}),s[3]=j,s[4]=a):a=s[4];let t;s[5]!==w||s[6]!==a?(t=e.jsxs("div",{className:w,children:[f,a]}),s[5]=w,s[6]=a,s[7]=t):t=s[7];const k=o==="ar"?"استكشف مجموعة واسعة من الدورات التعليمية من أفضل المنصات العالمية":"Explore a wide range of educational courses from the best global platforms";let g;s[8]!==k?(g=e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-2xl",children:k}),s[8]=k,s[9]=g):g=s[9];let v;s[10]!==t||s[11]!==g?(v=e.jsx(u,{as:"section",y:10,className:"bg-gradient-to-br from-primary/5 to-secondary/5",children:e.jsxs("div",{className:"container-responsive max-w-7xl mx-auto py-8 sm:py-12",children:[t,g]})}),s[10]=t,s[11]=g,s[12]=v):v=s[12];let b;s[13]!==l||s[14]!==c||s[15]!==x||s[16]!==n?(b=e.jsx(u,{as:"aside",y:8,delay:40,className:"lg:sticky lg:top-24 lg:self-start",children:e.jsx(re,{platforms:n,categories:l,levels:x,currentFilters:c})}),s[13]=l,s[14]=c,s[15]=x,s[16]=n,s[17]=b):b=s[17];const E=o==="ar"?`عرض ${i.from}-${i.to} من ${i.total} نتيجة`:`Showing ${i.from}-${i.to} of ${i.total} results`;let y;s[18]!==E?(y=e.jsx(u,{as:"div",y:6,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:E})})}),s[18]=E,s[19]=y):y=s[19];let N;s[20]!==i.data||s[21]!==i.last_page||s[22]!==i.links||s[23]!==o?(N=i.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:i.data.map(ce)}),i.last_page>1&&e.jsx(u,{as:"div",y:6,delay:60,children:e.jsx("div",{className:"flex justify-center gap-2 pt-6 sm:pt-8 flex-wrap",children:i.links.map(ie)})})]}):e.jsx(u,{y:10,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 text-center",children:[e.jsx(z,{className:"h-12 w-12 sm:h-16 sm:w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:o==="ar"?"لم يتم العثور على دورات":"No courses found"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:o==="ar"?"جرب تغيير معايير البحث أو الفلاتر":"Try changing your search criteria or filters"})]})}),s[20]=i.data,s[21]=i.last_page,s[22]=i.links,s[23]=o,s[24]=N):N=s[24];let S;s[25]!==y||s[26]!==N?(S=e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[y,N]}),s[25]=y,s[26]=N,s[27]=S):S=s[27];let _;s[28]!==b||s[29]!==S?(_=e.jsx(u,{as:"section",y:10,children:e.jsx("div",{className:"container-responsive max-w-7xl mx-auto py-8 sm:py-12",children:e.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-[300px_minmax(0,1fr)] xl:grid-cols-[320px_minmax(0,1fr)]",children:[b,S]})})}),s[28]=b,s[29]=S,s[30]=_):_=s[30];let I;return s[31]!==v||s[32]!==_||s[33]!==m?(I=e.jsxs(W,{children:[m,v,_]}),s[31]=v,s[32]=_,s[33]=m,s[34]=I):I=s[34],I}function ie(r,s){return e.jsx(R,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,asChild:!!r.url,className:"touch-target",children:r.url?e.jsx("a",{href:r.url,dangerouslySetInnerHTML:{__html:r.label}}):e.jsx("span",{dangerouslySetInnerHTML:{__html:r.label}})},s)}function ce(r,s){return e.jsx(u,{y:12,delay:s*50,children:e.jsx(X,{course:r})},r.id)}export{Fe as default};
