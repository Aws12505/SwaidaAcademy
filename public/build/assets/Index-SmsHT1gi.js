import{c as X,r as Z,j as t,L as k,H as ee,a as te}from"./app-qlYxv0hh.js";import{A as se}from"./app-layout-CMRIl-zK.js";import{t as le,s as ae,f as re,B as I}from"./button-waOfmUTx.js";import{I as ie}from"./input-AmPzn_TT.js";import{b as q,e as M,T as ne,a as ce,c as L,d as oe}from"./table-DlGKznw7.js";import{A as de,a as me,b as he,c as xe,d as fe,e as je,f as ue,g as ge,h as pe}from"./alert-dialog-Cvw1V29d.js";import{C as G,a as J,c as K,b as O}from"./card-DlRpMEN9.js";import{E as be}from"./eye-Cd1ypHn4.js";import{P as Ne}from"./pencil-CCqwi4le.js";import{T as ve,P as we}from"./trash-2-Bx0ePUEu.js";import{S as _e}from"./search-BFwQNn6k.js";/* empty css            */import"./sheet-BHSaRMcG.js";import"./index-CwWFbO6h.js";import"./index-BJfngDup.js";import"./target-ChaerNHL.js";const ye=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Blogs",href:"/admin/blogs"}];function Ge(l){const e=X.c(75),{blogs:s}=l,[r,U]=Z.useState(""),V=De;let m,h,x,f,j,i,n,u,g,c,o,p,b,d;if(e[0]!==s.data||e[1]!==s.total||e[2]!==r){let E;e[17]!==r?(E=a=>a.title.toLowerCase().includes(r.toLowerCase()),e[17]=r,e[18]=E):E=e[18];const Q=s.data.filter(E);x=se,j=ye,e[19]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(ee,{title:"Blogs Management"}),e[19]=i):i=e[19],b="flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto";let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(O,{className:"text-sm font-medium",children:"Total Blogs"})}),e[20]=z):z=e[20];let S;e[21]!==s.total?(S=t.jsxs(G,{children:[z,t.jsx(J,{children:t.jsx("div",{className:"text-2xl font-bold",children:s.total})})]}),e[21]=s.total,e[22]=S):S=e[22];let $;e[23]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(O,{className:"text-sm font-medium",children:"With Images"})}),e[23]=$):$=e[23];let D;e[24]!==s.data?(D=s.data.filter(Se),e[24]=s.data,e[25]=D):D=e[25];let A;e[26]!==D.length?(A=t.jsxs(G,{children:[$,t.jsx(J,{children:t.jsx("div",{className:"text-2xl font-bold",children:D.length})})]}),e[26]=D.length,e[27]=A):A=e[27];let F;e[28]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsx(O,{className:"text-sm font-medium",children:"This Month"})}),e[28]=F):F=e[28];let B;e[29]!==s.data?(B=s.data.filter(Ce),e[29]=s.data,e[30]=B):B=e[30];let H;e[31]!==B.length?(H=t.jsxs(G,{children:[F,t.jsx(J,{children:t.jsx("div",{className:"text-2xl font-bold",children:B.length})})]}),e[31]=B.length,e[32]=H):H=e[32],e[33]!==S||e[34]!==A||e[35]!==H?(d=t.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[S,A,H]}),e[33]=S,e[34]=A,e[35]=H,e[36]=d):d=e[36],p="relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",g="p-6 space-y-6";let R;e[37]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Blogs Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage all blog posts"})]}),e[37]=R):R=e[37],e[38]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[R,t.jsx(I,{asChild:!0,children:t.jsxs(k,{href:"/admin/blogs/create",children:[t.jsx(we,{className:"mr-2 h-4 w-4"}),"Add Blog Post"]})})]}),e[38]=c):c=e[38];let Y;e[39]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(_e,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[39]=Y):Y=e[39];let W;e[40]===Symbol.for("react.memo_cache_sentinel")?(W=a=>U(a.target.value),e[40]=W):W=e[40],e[41]!==r?(o=t.jsxs("div",{className:"relative max-w-sm",children:[Y,t.jsx(ie,{placeholder:"Search blogs...",value:r,onChange:W,className:"pl-9"})]}),e[41]=r,e[42]=o):o=e[42],u="rounded-md border",h=ne,e[43]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(ce,{children:t.jsxs(q,{children:[t.jsx(L,{children:"Title"}),t.jsx(L,{children:"Preview"}),t.jsx(L,{children:"Cover"}),t.jsx(L,{children:"Created"}),t.jsx(L,{className:"text-right",children:"Actions"})]})}),e[43]=n):n=e[43],m=oe,f=Q.length>0?Q.map(a=>t.jsxs(q,{children:[t.jsx(M,{className:"font-medium max-w-xs",children:t.jsx("div",{className:"line-clamp-2",children:a.title})}),t.jsx(M,{className:"max-w-md",children:t.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:le(ae(a.content),100)})}),t.jsx(M,{children:a.cover_image?t.jsx("div",{className:"h-12 w-20 rounded overflow-hidden",children:t.jsx("img",{src:a.cover_image.image_url,alt:a.title,className:"h-full w-full object-cover"})}):t.jsx("span",{className:"text-sm text-muted-foreground",children:"No image"})}),t.jsx(M,{className:"text-muted-foreground text-sm",children:re(a.created_at,"en")}),t.jsx(M,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(I,{asChild:!0,variant:"ghost",size:"icon",children:t.jsx(k,{href:`/admin/blogs/${a.id}`,children:t.jsx(be,{className:"h-4 w-4"})})}),t.jsx(I,{asChild:!0,variant:"ghost",size:"icon",children:t.jsx(k,{href:`/admin/blogs/${a.id}/edit`,children:t.jsx(Ne,{className:"h-4 w-4"})})}),t.jsxs(de,{children:[t.jsx(me,{asChild:!0,children:t.jsx(I,{variant:"ghost",size:"icon",children:t.jsx(ve,{className:"h-4 w-4 text-destructive"})})}),t.jsxs(he,{children:[t.jsxs(xe,{children:[t.jsx(fe,{children:"Are you sure?"}),t.jsx(je,{children:"This action cannot be undone. This will permanently delete the blog post."})]}),t.jsxs(ue,{children:[t.jsx(ge,{children:"Cancel"}),t.jsx(pe,{onClick:()=>V(a.id),children:"Delete"})]})]})]})]})})]},a.id)):t.jsx(q,{children:t.jsx(M,{colSpan:5,className:"h-24 text-center",children:"No blogs found."})}),e[0]=s.data,e[1]=s.total,e[2]=r,e[3]=m,e[4]=h,e[5]=x,e[6]=f,e[7]=j,e[8]=i,e[9]=n,e[10]=u,e[11]=g,e[12]=c,e[13]=o,e[14]=p,e[15]=b,e[16]=d}else m=e[3],h=e[4],x=e[5],f=e[6],j=e[7],i=e[8],n=e[9],u=e[10],g=e[11],c=e[12],o=e[13],p=e[14],b=e[15],d=e[16];let N;e[44]!==m||e[45]!==f?(N=t.jsx(m,{children:f}),e[44]=m,e[45]=f,e[46]=N):N=e[46];let v;e[47]!==h||e[48]!==N||e[49]!==n?(v=t.jsxs(h,{children:[n,N]}),e[47]=h,e[48]=N,e[49]=n,e[50]=v):v=e[50];let w;e[51]!==v||e[52]!==u?(w=t.jsx("div",{className:u,children:v}),e[51]=v,e[52]=u,e[53]=w):w=e[53];let _;e[54]!==s.last_page||e[55]!==s.links?(_=s.last_page>1&&t.jsx("div",{className:"flex justify-center gap-2",children:s.links.map(Te)}),e[54]=s.last_page,e[55]=s.links,e[56]=_):_=e[56];let y;e[57]!==w||e[58]!==_||e[59]!==g||e[60]!==c||e[61]!==o?(y=t.jsxs("div",{className:g,children:[c,o,w,_]}),e[57]=w,e[58]=_,e[59]=g,e[60]=c,e[61]=o,e[62]=y):y=e[62];let T;e[63]!==y||e[64]!==p?(T=t.jsx("div",{className:p,children:y}),e[63]=y,e[64]=p,e[65]=T):T=e[65];let C;e[66]!==T||e[67]!==b||e[68]!==d?(C=t.jsxs("div",{className:b,children:[d,T]}),e[66]=T,e[67]=b,e[68]=d,e[69]=C):C=e[69];let P;return e[70]!==x||e[71]!==j||e[72]!==i||e[73]!==C?(P=t.jsxs(x,{breadcrumbs:j,children:[i,C]}),e[70]=x,e[71]=j,e[72]=i,e[73]=C,e[74]=P):P=e[74],P}function Te(l,e){return t.jsx(I,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,asChild:!!l.url,children:l.url?t.jsx("a",{href:l.url,dangerouslySetInnerHTML:{__html:l.label}}):t.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},e)}function Ce(l){const e=new Date(l.created_at),s=new Date;return e.getMonth()===s.getMonth()&&e.getFullYear()===s.getFullYear()}function Se(l){return l.cover_image}function De(l){te.delete(`/admin/blogs/${l}`,{preserveScroll:!0})}export{Ge as default};
